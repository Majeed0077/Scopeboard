"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/contacts/route";
exports.ids = ["app/api/contacts/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "./action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "./request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "./static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcontacts%2Froute&page=%2Fapi%2Fcontacts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcontacts%2Froute.ts&appDir=F%3A%5CCoding%5CFlowlane%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=F%3A%5CCoding%5CFlowlane&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcontacts%2Froute&page=%2Fapi%2Fcontacts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcontacts%2Froute.ts&appDir=F%3A%5CCoding%5CFlowlane%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=F%3A%5CCoding%5CFlowlane&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var F_Coding_Flowlane_src_app_api_contacts_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/contacts/route.ts */ \"(rsc)/./src/app/api/contacts/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/contacts/route\",\n        pathname: \"/api/contacts\",\n        filename: \"route\",\n        bundlePath: \"app/api/contacts/route\"\n    },\n    resolvedPagePath: \"F:\\\\Coding\\\\Flowlane\\\\src\\\\app\\\\api\\\\contacts\\\\route.ts\",\n    nextConfigOutput,\n    userland: F_Coding_Flowlane_src_app_api_contacts_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/contacts/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjb250YWN0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGY29udGFjdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZjb250YWN0cyUyRnJvdXRlLnRzJmFwcERpcj1GJTNBJTVDQ29kaW5nJTVDRmxvd2xhbmUlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUYlM0ElNUNDb2RpbmclNUNGbG93bGFuZSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDTztBQUNwRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3Njb3BlYm9hcmQvP2YxMDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRjpcXFxcQ29kaW5nXFxcXEZsb3dsYW5lXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGNvbnRhY3RzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jb250YWN0cy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NvbnRhY3RzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9jb250YWN0cy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkY6XFxcXENvZGluZ1xcXFxGbG93bGFuZVxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxjb250YWN0c1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvY29udGFjdHMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcontacts%2Froute&page=%2Fapi%2Fcontacts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcontacts%2Froute.ts&appDir=F%3A%5CCoding%5CFlowlane%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=F%3A%5CCoding%5CFlowlane&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/contacts/route.ts":
/*!***************************************!*\
  !*** ./src/app/api/contacts/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var _lib_models_contact__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/models/contact */ \"(rsc)/./src/lib/models/contact.ts\");\n/* harmony import */ var _lib_validation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/validation */ \"(rsc)/./src/lib/validation.ts\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./src/lib/auth.ts\");\n/* harmony import */ var _lib_audit__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/audit */ \"(rsc)/./src/lib/audit.ts\");\n\n\n\n\n\n\nfunction serialize(doc) {\n    const obj = doc.toObject();\n    const { _id, __v, ...rest } = obj;\n    return {\n        id: _id,\n        ...rest\n    };\n}\nasync function GET(req) {\n    let session;\n    try {\n        session = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_4__.requireSession)(req);\n    } catch  {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Unauthorized\"\n        }, {\n            status: 401\n        });\n    }\n    await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.dbConnect)();\n    const contacts = await _lib_models_contact__WEBPACK_IMPORTED_MODULE_2__.ContactModel.find({\n        workspaceId: session.workspaceId\n    }).lean();\n    const data = contacts.map((item)=>({\n            id: item._id,\n            ...item\n        }));\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        success: true,\n        data\n    });\n}\nasync function POST(req) {\n    let session;\n    try {\n        session = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_4__.requireSession)(req);\n    } catch  {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Unauthorized\"\n        }, {\n            status: 401\n        });\n    }\n    await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.dbConnect)();\n    const body = await req.json();\n    const parsed = _lib_validation__WEBPACK_IMPORTED_MODULE_3__.contactCreateSchema.safeParse(body);\n    if (!parsed.success) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: parsed.error.flatten()\n        }, {\n            status: 400\n        });\n    }\n    const id = `c-${crypto.randomUUID().slice(0, 8)}`;\n    const created = await _lib_models_contact__WEBPACK_IMPORTED_MODULE_2__.ContactModel.create({\n        _id: id,\n        workspaceId: session.workspaceId,\n        ...parsed.data\n    });\n    await (0,_lib_audit__WEBPACK_IMPORTED_MODULE_5__.logAuditEvent)({\n        workspaceId: session.workspaceId,\n        actorId: session.userId,\n        actorRole: session.role,\n        actorEmail: session.email,\n        action: \"contacts.create\",\n        entityType: \"contact\",\n        entityId: id,\n        meta: created.name\n    });\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        success: true,\n        data: serialize(created)\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9jb250YWN0cy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUEyQztBQUNOO0FBQ2U7QUFDRztBQUNYO0FBQ0E7QUFFNUMsU0FBU00sVUFBVUMsR0FBUTtJQUN6QixNQUFNQyxNQUFNRCxJQUFJRSxRQUFRO0lBQ3hCLE1BQU0sRUFBRUMsR0FBRyxFQUFFQyxHQUFHLEVBQUUsR0FBR0MsTUFBTSxHQUFHSjtJQUM5QixPQUFPO1FBQUVLLElBQUlIO1FBQUssR0FBR0UsSUFBSTtJQUFDO0FBQzVCO0FBRU8sZUFBZUUsSUFBSUMsR0FBWTtJQUNwQyxJQUFJQztJQUNKLElBQUk7UUFDRkEsVUFBVSxNQUFNWix5REFBY0EsQ0FBQ1c7SUFDakMsRUFBRSxPQUFNO1FBQ04sT0FBT2YscURBQVlBLENBQUNpQixJQUFJLENBQUM7WUFBRUMsU0FBUztZQUFPQyxPQUFPO1FBQWUsR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDcEY7SUFFQSxNQUFNbkIsa0RBQVNBO0lBQ2YsTUFBTW9CLFdBQVcsTUFBTW5CLDZEQUFZQSxDQUFDb0IsSUFBSSxDQUFDO1FBQUVDLGFBQWFQLFFBQVFPLFdBQVc7SUFBQyxHQUFHQyxJQUFJO0lBQ25GLE1BQU1DLE9BQU9KLFNBQVNLLEdBQUcsQ0FBQyxDQUFDQyxPQUFVO1lBQUVkLElBQUljLEtBQUtqQixHQUFHO1lBQUUsR0FBR2lCLElBQUk7UUFBQztJQUM3RCxPQUFPM0IscURBQVlBLENBQUNpQixJQUFJLENBQUM7UUFBRUMsU0FBUztRQUFNTztJQUFLO0FBQ2pEO0FBRU8sZUFBZUcsS0FBS2IsR0FBWTtJQUNyQyxJQUFJQztJQUNKLElBQUk7UUFDRkEsVUFBVSxNQUFNWix5REFBY0EsQ0FBQ1c7SUFDakMsRUFBRSxPQUFNO1FBQ04sT0FBT2YscURBQVlBLENBQUNpQixJQUFJLENBQUM7WUFBRUMsU0FBUztZQUFPQyxPQUFPO1FBQWUsR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDcEY7SUFFQSxNQUFNbkIsa0RBQVNBO0lBQ2YsTUFBTTRCLE9BQU8sTUFBTWQsSUFBSUUsSUFBSTtJQUMzQixNQUFNYSxTQUFTM0IsZ0VBQW1CQSxDQUFDNEIsU0FBUyxDQUFDRjtJQUM3QyxJQUFJLENBQUNDLE9BQU9aLE9BQU8sRUFBRTtRQUNuQixPQUFPbEIscURBQVlBLENBQUNpQixJQUFJLENBQ3RCO1lBQUVDLFNBQVM7WUFBT0MsT0FBT1csT0FBT1gsS0FBSyxDQUFDYSxPQUFPO1FBQUcsR0FDaEQ7WUFBRVosUUFBUTtRQUFJO0lBRWxCO0lBRUEsTUFBTVAsS0FBSyxDQUFDLEVBQUUsRUFBRW9CLE9BQU9DLFVBQVUsR0FBR0MsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDO0lBQ2pELE1BQU1DLFVBQVUsTUFBTWxDLDZEQUFZQSxDQUFDbUMsTUFBTSxDQUFDO1FBQ3hDM0IsS0FBS0c7UUFDTFUsYUFBYVAsUUFBUU8sV0FBVztRQUNoQyxHQUFHTyxPQUFPTCxJQUFJO0lBQ2hCO0lBRUEsTUFBTXBCLHlEQUFhQSxDQUFDO1FBQ2xCa0IsYUFBYVAsUUFBUU8sV0FBVztRQUNoQ2UsU0FBU3RCLFFBQVF1QixNQUFNO1FBQ3ZCQyxXQUFXeEIsUUFBUXlCLElBQUk7UUFDdkJDLFlBQVkxQixRQUFRMkIsS0FBSztRQUN6QkMsUUFBUTtRQUNSQyxZQUFZO1FBQ1pDLFVBQVVqQztRQUNWa0MsTUFBTVgsUUFBUVksSUFBSTtJQUNwQjtJQUVBLE9BQU9oRCxxREFBWUEsQ0FBQ2lCLElBQUksQ0FBQztRQUFFQyxTQUFTO1FBQU1PLE1BQU1uQixVQUFVOEI7SUFBUztBQUNyRSIsInNvdXJjZXMiOlsid2VicGFjazovL3Njb3BlYm9hcmQvLi9zcmMvYXBwL2FwaS9jb250YWN0cy9yb3V0ZS50cz9hMWIxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IHsgZGJDb25uZWN0IH0gZnJvbSBcIkAvbGliL2RiXCI7XG5pbXBvcnQgeyBDb250YWN0TW9kZWwgfSBmcm9tIFwiQC9saWIvbW9kZWxzL2NvbnRhY3RcIjtcbmltcG9ydCB7IGNvbnRhY3RDcmVhdGVTY2hlbWEgfSBmcm9tIFwiQC9saWIvdmFsaWRhdGlvblwiO1xuaW1wb3J0IHsgcmVxdWlyZVNlc3Npb24gfSBmcm9tIFwiQC9saWIvYXV0aFwiO1xuaW1wb3J0IHsgbG9nQXVkaXRFdmVudCB9IGZyb20gXCJAL2xpYi9hdWRpdFwiO1xuXG5mdW5jdGlvbiBzZXJpYWxpemUoZG9jOiBhbnkpIHtcbiAgY29uc3Qgb2JqID0gZG9jLnRvT2JqZWN0KCk7XG4gIGNvbnN0IHsgX2lkLCBfX3YsIC4uLnJlc3QgfSA9IG9iajtcbiAgcmV0dXJuIHsgaWQ6IF9pZCwgLi4ucmVzdCB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcTogUmVxdWVzdCkge1xuICBsZXQgc2Vzc2lvbjtcbiAgdHJ5IHtcbiAgICBzZXNzaW9uID0gYXdhaXQgcmVxdWlyZVNlc3Npb24ocmVxKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVuYXV0aG9yaXplZFwiIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gIH1cblxuICBhd2FpdCBkYkNvbm5lY3QoKTtcbiAgY29uc3QgY29udGFjdHMgPSBhd2FpdCBDb250YWN0TW9kZWwuZmluZCh7IHdvcmtzcGFjZUlkOiBzZXNzaW9uLndvcmtzcGFjZUlkIH0pLmxlYW4oKTtcbiAgY29uc3QgZGF0YSA9IGNvbnRhY3RzLm1hcCgoaXRlbSkgPT4gKHsgaWQ6IGl0ZW0uX2lkLCAuLi5pdGVtIH0pKTtcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBSZXF1ZXN0KSB7XG4gIGxldCBzZXNzaW9uO1xuICB0cnkge1xuICAgIHNlc3Npb24gPSBhd2FpdCByZXF1aXJlU2Vzc2lvbihyZXEpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVW5hdXRob3JpemVkXCIgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgfVxuXG4gIGF3YWl0IGRiQ29ubmVjdCgpO1xuICBjb25zdCBib2R5ID0gYXdhaXQgcmVxLmpzb24oKTtcbiAgY29uc3QgcGFyc2VkID0gY29udGFjdENyZWF0ZVNjaGVtYS5zYWZlUGFyc2UoYm9keSk7XG4gIGlmICghcGFyc2VkLnN1Y2Nlc3MpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogcGFyc2VkLmVycm9yLmZsYXR0ZW4oKSB9LFxuICAgICAgeyBzdGF0dXM6IDQwMCB9LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBpZCA9IGBjLSR7Y3J5cHRvLnJhbmRvbVVVSUQoKS5zbGljZSgwLCA4KX1gO1xuICBjb25zdCBjcmVhdGVkID0gYXdhaXQgQ29udGFjdE1vZGVsLmNyZWF0ZSh7XG4gICAgX2lkOiBpZCxcbiAgICB3b3Jrc3BhY2VJZDogc2Vzc2lvbi53b3Jrc3BhY2VJZCxcbiAgICAuLi5wYXJzZWQuZGF0YSxcbiAgfSk7XG5cbiAgYXdhaXQgbG9nQXVkaXRFdmVudCh7XG4gICAgd29ya3NwYWNlSWQ6IHNlc3Npb24ud29ya3NwYWNlSWQsXG4gICAgYWN0b3JJZDogc2Vzc2lvbi51c2VySWQsXG4gICAgYWN0b3JSb2xlOiBzZXNzaW9uLnJvbGUsXG4gICAgYWN0b3JFbWFpbDogc2Vzc2lvbi5lbWFpbCxcbiAgICBhY3Rpb246IFwiY29udGFjdHMuY3JlYXRlXCIsXG4gICAgZW50aXR5VHlwZTogXCJjb250YWN0XCIsXG4gICAgZW50aXR5SWQ6IGlkLFxuICAgIG1ldGE6IGNyZWF0ZWQubmFtZSxcbiAgfSk7XG5cbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogc2VyaWFsaXplKGNyZWF0ZWQpIH0pO1xufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZGJDb25uZWN0IiwiQ29udGFjdE1vZGVsIiwiY29udGFjdENyZWF0ZVNjaGVtYSIsInJlcXVpcmVTZXNzaW9uIiwibG9nQXVkaXRFdmVudCIsInNlcmlhbGl6ZSIsImRvYyIsIm9iaiIsInRvT2JqZWN0IiwiX2lkIiwiX192IiwicmVzdCIsImlkIiwiR0VUIiwicmVxIiwic2Vzc2lvbiIsImpzb24iLCJzdWNjZXNzIiwiZXJyb3IiLCJzdGF0dXMiLCJjb250YWN0cyIsImZpbmQiLCJ3b3Jrc3BhY2VJZCIsImxlYW4iLCJkYXRhIiwibWFwIiwiaXRlbSIsIlBPU1QiLCJib2R5IiwicGFyc2VkIiwic2FmZVBhcnNlIiwiZmxhdHRlbiIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJzbGljZSIsImNyZWF0ZWQiLCJjcmVhdGUiLCJhY3RvcklkIiwidXNlcklkIiwiYWN0b3JSb2xlIiwicm9sZSIsImFjdG9yRW1haWwiLCJlbWFpbCIsImFjdGlvbiIsImVudGl0eVR5cGUiLCJlbnRpdHlJZCIsIm1ldGEiLCJuYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/contacts/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/audit.ts":
/*!**************************!*\
  !*** ./src/lib/audit.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   logAuditEvent: () => (/* binding */ logAuditEvent)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var _lib_models_audit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/models/audit */ \"(rsc)/./src/lib/models/audit.ts\");\n\n\nasync function logAuditEvent(params) {\n    await (0,_lib_db__WEBPACK_IMPORTED_MODULE_0__.dbConnect)();\n    const id = `aud-${crypto.randomUUID().slice(0, 8)}`;\n    await _lib_models_audit__WEBPACK_IMPORTED_MODULE_1__.AuditModel.create({\n        _id: id,\n        workspaceId: params.workspaceId ?? \"default\",\n        createdAt: new Date().toISOString(),\n        ...params\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2F1ZGl0LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxQztBQUNXO0FBR3pDLGVBQWVFLGNBQWNDLE1BU25DO0lBQ0MsTUFBTUgsa0RBQVNBO0lBQ2YsTUFBTUksS0FBSyxDQUFDLElBQUksRUFBRUMsT0FBT0MsVUFBVSxHQUFHQyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUM7SUFDbkQsTUFBTU4seURBQVVBLENBQUNPLE1BQU0sQ0FBQztRQUN0QkMsS0FBS0w7UUFDTE0sYUFBYVAsT0FBT08sV0FBVyxJQUFJO1FBQ25DQyxXQUFXLElBQUlDLE9BQU9DLFdBQVc7UUFDakMsR0FBR1YsTUFBTTtJQUNYO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY29wZWJvYXJkLy4vc3JjL2xpYi9hdWRpdC50cz9mNDY1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRiQ29ubmVjdCB9IGZyb20gXCJAL2xpYi9kYlwiO1xuaW1wb3J0IHsgQXVkaXRNb2RlbCB9IGZyb20gXCJAL2xpYi9tb2RlbHMvYXVkaXRcIjtcbmltcG9ydCB0eXBlIHsgUm9sZSB9IGZyb20gXCJAL2xpYi9yYmFjXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2dBdWRpdEV2ZW50KHBhcmFtczoge1xuICB3b3Jrc3BhY2VJZD86IHN0cmluZztcbiAgYWN0b3JJZD86IHN0cmluZztcbiAgYWN0b3JSb2xlPzogUm9sZSB8IHN0cmluZztcbiAgYWN0b3JFbWFpbD86IHN0cmluZztcbiAgYWN0aW9uOiBzdHJpbmc7XG4gIGVudGl0eVR5cGU/OiBzdHJpbmc7XG4gIGVudGl0eUlkPzogc3RyaW5nO1xuICBtZXRhPzogc3RyaW5nO1xufSkge1xuICBhd2FpdCBkYkNvbm5lY3QoKTtcbiAgY29uc3QgaWQgPSBgYXVkLSR7Y3J5cHRvLnJhbmRvbVVVSUQoKS5zbGljZSgwLCA4KX1gO1xuICBhd2FpdCBBdWRpdE1vZGVsLmNyZWF0ZSh7XG4gICAgX2lkOiBpZCxcbiAgICB3b3Jrc3BhY2VJZDogcGFyYW1zLndvcmtzcGFjZUlkID8/IFwiZGVmYXVsdFwiLFxuICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIC4uLnBhcmFtcyxcbiAgfSk7XG59XHJcbiJdLCJuYW1lcyI6WyJkYkNvbm5lY3QiLCJBdWRpdE1vZGVsIiwibG9nQXVkaXRFdmVudCIsInBhcmFtcyIsImlkIiwiY3J5cHRvIiwicmFuZG9tVVVJRCIsInNsaWNlIiwiY3JlYXRlIiwiX2lkIiwid29ya3NwYWNlSWQiLCJjcmVhdGVkQXQiLCJEYXRlIiwidG9JU09TdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/audit.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSessionToken: () => (/* binding */ createSessionToken),\n/* harmony export */   getActiveWorkspaceCookieName: () => (/* binding */ getActiveWorkspaceCookieName),\n/* harmony export */   getCurrentRole: () => (/* binding */ getCurrentRole),\n/* harmony export */   getCurrentUser: () => (/* binding */ getCurrentUser),\n/* harmony export */   getCurrentWorkspaces: () => (/* binding */ getCurrentWorkspaces),\n/* harmony export */   getSessionCookieName: () => (/* binding */ getSessionCookieName),\n/* harmony export */   getSessionFromRequest: () => (/* binding */ getSessionFromRequest),\n/* harmony export */   requireRole: () => (/* binding */ requireRole),\n/* harmony export */   requireSession: () => (/* binding */ requireSession)\n/* harmony export */ });\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jose */ \"(rsc)/./node_modules/jose/dist/webapi/jwt/sign.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jose */ \"(rsc)/./node_modules/jose/dist/webapi/jwt/verify.js\");\n/* harmony import */ var _lib_models_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/models/user */ \"(rsc)/./src/lib/models/user.ts\");\n/* harmony import */ var _lib_models_workspace__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/models/workspace */ \"(rsc)/./src/lib/models/workspace.ts\");\n/* harmony import */ var _lib_models_workspaceMembership__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/models/workspaceMembership */ \"(rsc)/./src/lib/models/workspaceMembership.ts\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n\n\n\n\n\n\nconst COOKIE_NAME = \"scopeboard_session\";\nconst ACTIVE_WORKSPACE_COOKIE = \"scopeboard_workspace\";\nfunction getJwtSecret() {\n    const secret = process.env.JWT_SECRET;\n    if (!secret) throw new Error(\"JWT_SECRET is not defined\");\n    return new TextEncoder().encode(secret);\n}\nfunction normalizeRole(role) {\n    return role.toLowerCase() === \"owner\" ? \"owner\" : \"editor\";\n}\nfunction parseCookieValue(cookieHeader, name) {\n    if (!cookieHeader) return \"\";\n    const parts = cookieHeader.split(\";\").map((part)=>part.trim());\n    for (const part of parts){\n        if (part.startsWith(`${name}=`)) {\n            return decodeURIComponent(part.slice(`${name}=`.length));\n        }\n    }\n    return \"\";\n}\nasync function resolveWorkspaceRole(userId, defaultWorkspaceId, requestedWorkspaceId) {\n    await (0,_lib_db__WEBPACK_IMPORTED_MODULE_4__.dbConnect)();\n    const user = await _lib_models_user__WEBPACK_IMPORTED_MODULE_1__.UserModel.findById(userId).lean();\n    if (!user || !user.isActive) return null;\n    const activeWorkspaceId = requestedWorkspaceId || defaultWorkspaceId || user.workspaceId;\n    if (activeWorkspaceId === user.workspaceId) {\n        return {\n            workspaceId: activeWorkspaceId,\n            role: normalizeRole(user.role),\n            email: user.email,\n            name: user.name,\n            tokenVersion: typeof user.tokenVersion === \"number\" ? user.tokenVersion : 0\n        };\n    }\n    const membership = await _lib_models_workspaceMembership__WEBPACK_IMPORTED_MODULE_3__.WorkspaceMembershipModel.findOne({\n        userId,\n        workspaceId: activeWorkspaceId,\n        isActive: true\n    }).lean();\n    if (!membership) {\n        return {\n            workspaceId: user.workspaceId,\n            role: normalizeRole(user.role),\n            email: user.email,\n            name: user.name,\n            tokenVersion: typeof user.tokenVersion === \"number\" ? user.tokenVersion : 0\n        };\n    }\n    return {\n        workspaceId: activeWorkspaceId,\n        role: membership.role === \"owner\" ? \"owner\" : \"editor\",\n        email: user.email,\n        name: user.name,\n        tokenVersion: typeof user.tokenVersion === \"number\" ? user.tokenVersion : 0\n    };\n}\nasync function createSessionToken(payload) {\n    const now = Math.floor(Date.now() / 1000);\n    const exp = now + 60 * 60 * 24 * 7;\n    return new jose__WEBPACK_IMPORTED_MODULE_5__.SignJWT(payload).setProtectedHeader({\n        alg: \"HS256\"\n    }).setIssuedAt(now).setExpirationTime(exp).sign(getJwtSecret());\n}\nasync function getSessionFromRequest(req) {\n    try {\n        const cookieHeader = req.headers.get(\"cookie\");\n        const token = parseCookieValue(cookieHeader, COOKIE_NAME);\n        if (!token) return null;\n        const { payload } = await (0,jose__WEBPACK_IMPORTED_MODULE_6__.jwtVerify)(token, getJwtSecret());\n        const session = payload;\n        const userId = typeof session.userId === \"string\" ? session.userId : \"\";\n        const defaultWorkspaceId = typeof session.workspaceId === \"string\" ? session.workspaceId : \"\";\n        const tokenVersion = typeof session.tokenVersion === \"number\" ? session.tokenVersion : 0;\n        const requestedWorkspaceId = parseCookieValue(cookieHeader, ACTIVE_WORKSPACE_COOKIE);\n        if (!userId) return null;\n        const resolved = await resolveWorkspaceRole(userId, defaultWorkspaceId, requestedWorkspaceId);\n        if (!resolved) return null;\n        if (resolved.tokenVersion !== tokenVersion) return null;\n        return {\n            userId,\n            workspaceId: resolved.workspaceId,\n            role: resolved.role,\n            email: resolved.email,\n            name: resolved.name\n        };\n    } catch  {\n        return null;\n    }\n}\nasync function requireSession(req) {\n    const session = await getSessionFromRequest(req);\n    if (!session) {\n        throw new Error(\"Unauthorized\");\n    }\n    return session;\n}\nasync function requireRole(req, role) {\n    const session = await requireSession(req);\n    const expected = role.toLowerCase() === \"owner\" ? \"owner\" : \"editor\";\n    if (session.role !== expected) {\n        throw new Error(\"Forbidden\");\n    }\n    return session;\n}\nasync function getCurrentUser() {\n    const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)();\n    const token = cookieStore.get(COOKIE_NAME)?.value;\n    if (!token) return null;\n    try {\n        const { payload } = await (0,jose__WEBPACK_IMPORTED_MODULE_6__.jwtVerify)(token, getJwtSecret());\n        const session = payload;\n        const userId = typeof session.userId === \"string\" ? session.userId : \"\";\n        const defaultWorkspaceId = typeof session.workspaceId === \"string\" ? session.workspaceId : \"\";\n        const tokenVersion = typeof session.tokenVersion === \"number\" ? session.tokenVersion : 0;\n        const requestedWorkspaceId = cookieStore.get(ACTIVE_WORKSPACE_COOKIE)?.value ?? \"\";\n        if (!userId) return null;\n        const resolved = await resolveWorkspaceRole(userId, defaultWorkspaceId, requestedWorkspaceId);\n        if (!resolved) return null;\n        if (resolved.tokenVersion !== tokenVersion) return null;\n        const user = await _lib_models_user__WEBPACK_IMPORTED_MODULE_1__.UserModel.findById(userId).lean();\n        if (!user || !user.isActive) return null;\n        return {\n            id: String(user._id),\n            workspaceId: resolved.workspaceId,\n            name: user.name,\n            email: user.email,\n            role: resolved.role,\n            avatarUrl: user.avatarUrl ?? \"\",\n            timezone: user.timezone ?? \"UTC\",\n            language: user.language ?? \"en\",\n            defaultLandingPage: user.defaultLandingPage ?? \"today\",\n            compactMode: Boolean(user.compactMode),\n            keyboardShortcuts: user.keyboardShortcuts !== false,\n            signature: user.signature ?? \"\",\n            notificationPrefs: {\n                inviteEmail: user.notificationPrefs?.inviteEmail !== false,\n                inviteInApp: user.notificationPrefs?.inviteInApp !== false,\n                taskDueEmail: user.notificationPrefs?.taskDueEmail !== false,\n                taskDueInApp: user.notificationPrefs?.taskDueInApp !== false,\n                mentionEmail: user.notificationPrefs?.mentionEmail !== false,\n                mentionInApp: user.notificationPrefs?.mentionInApp !== false,\n                invoiceEmail: user.notificationPrefs?.invoiceEmail !== false,\n                invoiceInApp: user.notificationPrefs?.invoiceInApp !== false\n            },\n            lastLoginAt: user.lastLoginAt ?? null\n        };\n    } catch  {\n        return null;\n    }\n}\nasync function getCurrentWorkspaces() {\n    const currentUser = await getCurrentUser();\n    if (!currentUser) return [];\n    await (0,_lib_db__WEBPACK_IMPORTED_MODULE_4__.dbConnect)();\n    const user = await _lib_models_user__WEBPACK_IMPORTED_MODULE_1__.UserModel.findById(currentUser.id).lean();\n    if (!user) return [];\n    const memberships = await _lib_models_workspaceMembership__WEBPACK_IMPORTED_MODULE_3__.WorkspaceMembershipModel.find({\n        userId: currentUser.id,\n        isActive: true\n    }).lean();\n    const workspaceIds = Array.from(new Set([\n        String(user.workspaceId),\n        ...memberships.map((membership)=>String(membership.workspaceId))\n    ]));\n    const workspaces = await _lib_models_workspace__WEBPACK_IMPORTED_MODULE_2__.WorkspaceModel.find({\n        _id: {\n            $in: workspaceIds\n        },\n        isActive: true\n    }).lean();\n    const hasPersonalWorkspace = workspaces.some((workspace)=>String(workspace._id) === String(user.workspaceId));\n    if (!hasPersonalWorkspace) {\n        const created = await _lib_models_workspace__WEBPACK_IMPORTED_MODULE_2__.WorkspaceModel.findOneAndUpdate({\n            _id: String(user.workspaceId)\n        }, {\n            _id: String(user.workspaceId),\n            name: `${user.name}'s Workspace`,\n            ownerUserId: String(user._id),\n            isActive: true\n        }, {\n            upsert: true,\n            new: true,\n            setDefaultsOnInsert: true\n        }).lean();\n        if (created) {\n            workspaces.push(created);\n        }\n    }\n    return workspaceIds.map((id)=>{\n        const workspace = workspaces.find((item)=>String(item._id) === id);\n        const membership = memberships.find((item)=>String(item.workspaceId) === id);\n        const role = id === String(user.workspaceId) ? \"owner\" : membership?.role === \"owner\" ? \"owner\" : \"editor\";\n        return {\n            id,\n            name: workspace?.name ?? (id === String(user.workspaceId) ? \"My Workspace\" : `Workspace ${id.slice(0, 6)}`),\n            logoUrl: workspace?.logoUrl ?? \"\",\n            role,\n            isPersonal: id === String(user.workspaceId),\n            isActive: id === currentUser.workspaceId\n        };\n    });\n}\nasync function getCurrentRole() {\n    const user = await getCurrentUser();\n    return user?.role ?? null;\n}\nasync function getSessionCookieName() {\n    return COOKIE_NAME;\n}\nasync function getActiveWorkspaceCookieName() {\n    return ACTIVE_WORKSPACE_COOKIE;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YUFBYXZFLEdBQUcsQ0FBQyxDQUFDOEM7UUFDdkIsTUFBTWlDLFlBQVlKLFdBQVdMLElBQUksQ0FBQyxDQUFDaUIsT0FBU3hDLE9BQU93QyxLQUFLdkMsR0FBRyxNQUFNRjtRQUNqRSxNQUFNM0IsYUFBYWtELFlBQVlDLElBQUksQ0FBQyxDQUFDaUIsT0FBU3hDLE9BQU93QyxLQUFLdkUsV0FBVyxNQUFNOEI7UUFDM0UsTUFBTXJELE9BQU9xRCxPQUFPQyxPQUFPcEMsS0FBS0ssV0FBVyxJQUFJLFVBQVVHLFlBQVkxQixTQUFTLFVBQVUsVUFBVTtRQUVsRyxPQUFPO1lBQ0xxRDtZQUNBakQsTUFBTWtGLFdBQVdsRixRQUFTaUQsQ0FBQUEsT0FBT0MsT0FBT3BDLEtBQUtLLFdBQVcsSUFBSSxpQkFBaUIsQ0FBQyxVQUFVLEVBQUU4QixHQUFHekMsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQzFHbUYsU0FBU1QsV0FBV1MsV0FBVztZQUMvQi9GO1lBQ0FnRyxZQUFZM0MsT0FBT0MsT0FBT3BDLEtBQUtLLFdBQVc7WUFDMUNGLFVBQVVnQyxPQUFPc0IsWUFBWXBELFdBQVc7UUFDMUM7SUFDRjtBQUNGO0FBRU8sZUFBZTBFO0lBQ3BCLE1BQU0vRSxPQUFPLE1BQU1nQztJQUNuQixPQUFPaEMsTUFBTWxCLFFBQVE7QUFDdkI7QUFFTyxlQUFla0c7SUFDcEIsT0FBTzdHO0FBQ1Q7QUFFTyxlQUFlOEc7SUFDcEIsT0FBTzdHO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY29wZWJvYXJkLy4vc3JjL2xpYi9hdXRoLnRzPzY2OTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29va2llcyB9IGZyb20gXCJuZXh0L2hlYWRlcnNcIjtcbmltcG9ydCB7IGp3dFZlcmlmeSwgU2lnbkpXVCB9IGZyb20gXCJqb3NlXCI7XG5pbXBvcnQgeyBVc2VyTW9kZWwgfSBmcm9tIFwiQC9saWIvbW9kZWxzL3VzZXJcIjtcbmltcG9ydCB7IFdvcmtzcGFjZU1vZGVsIH0gZnJvbSBcIkAvbGliL21vZGVscy93b3Jrc3BhY2VcIjtcbmltcG9ydCB7IFdvcmtzcGFjZU1lbWJlcnNoaXBNb2RlbCB9IGZyb20gXCJAL2xpYi9tb2RlbHMvd29ya3NwYWNlTWVtYmVyc2hpcFwiO1xuaW1wb3J0IHR5cGUgeyBSb2xlIH0gZnJvbSBcIkAvbGliL3JiYWNcIjtcbmltcG9ydCB7IGRiQ29ubmVjdCB9IGZyb20gXCJAL2xpYi9kYlwiO1xuXG5jb25zdCBDT09LSUVfTkFNRSA9IFwic2NvcGVib2FyZF9zZXNzaW9uXCI7XG5jb25zdCBBQ1RJVkVfV09SS1NQQUNFX0NPT0tJRSA9IFwic2NvcGVib2FyZF93b3Jrc3BhY2VcIjtcblxudHlwZSBTZXNzaW9uUGF5bG9hZCA9IHtcbiAgdXNlcklkOiBzdHJpbmc7XG4gIHdvcmtzcGFjZUlkOiBzdHJpbmc7XG4gIHJvbGU6IFJvbGU7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgdG9rZW5WZXJzaW9uOiBudW1iZXI7XG4gIGRlZmF1bHRMYW5kaW5nUGFnZT86IFwidG9kYXlcIiB8IFwiZGFzaGJvYXJkXCI7XG59O1xuXG5leHBvcnQgdHlwZSBTZXNzaW9uID0ge1xuICB1c2VySWQ6IHN0cmluZztcbiAgd29ya3NwYWNlSWQ6IHN0cmluZztcbiAgcm9sZTogUm9sZTtcbiAgZW1haWw6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xufTtcblxudHlwZSBSZXNvbHZlZFdvcmtzcGFjZVJvbGUgPSB7XG4gIHdvcmtzcGFjZUlkOiBzdHJpbmc7XG4gIHJvbGU6IFJvbGU7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgdG9rZW5WZXJzaW9uOiBudW1iZXI7XG59O1xuXG5leHBvcnQgdHlwZSBXb3Jrc3BhY2VTdW1tYXJ5ID0ge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGxvZ29Vcmw6IHN0cmluZztcbiAgcm9sZTogXCJvd25lclwiIHwgXCJlZGl0b3JcIjtcbiAgaXNQZXJzb25hbDogYm9vbGVhbjtcbiAgaXNBY3RpdmU6IGJvb2xlYW47XG59O1xuXG5mdW5jdGlvbiBnZXRKd3RTZWNyZXQoKSB7XG4gIGNvbnN0IHNlY3JldCA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQ7XG4gIGlmICghc2VjcmV0KSB0aHJvdyBuZXcgRXJyb3IoXCJKV1RfU0VDUkVUIGlzIG5vdCBkZWZpbmVkXCIpO1xuICByZXR1cm4gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHNlY3JldCk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVJvbGUocm9sZTogc3RyaW5nKTogUm9sZSB7XG4gIHJldHVybiByb2xlLnRvTG93ZXJDYXNlKCkgPT09IFwib3duZXJcIiA/IFwib3duZXJcIiA6IFwiZWRpdG9yXCI7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQ29va2llVmFsdWUoY29va2llSGVhZGVyOiBzdHJpbmcgfCBudWxsLCBuYW1lOiBzdHJpbmcpIHtcbiAgaWYgKCFjb29raWVIZWFkZXIpIHJldHVybiBcIlwiO1xuICBjb25zdCBwYXJ0cyA9IGNvb2tpZUhlYWRlci5zcGxpdChcIjtcIikubWFwKChwYXJ0KSA9PiBwYXJ0LnRyaW0oKSk7XG4gIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0cykge1xuICAgIGlmIChwYXJ0LnN0YXJ0c1dpdGgoYCR7bmFtZX09YCkpIHtcbiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocGFydC5zbGljZShgJHtuYW1lfT1gLmxlbmd0aCkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVzb2x2ZVdvcmtzcGFjZVJvbGUoXG4gIHVzZXJJZDogc3RyaW5nLFxuICBkZWZhdWx0V29ya3NwYWNlSWQ6IHN0cmluZyxcbiAgcmVxdWVzdGVkV29ya3NwYWNlSWQ/OiBzdHJpbmcsXG4pOiBQcm9taXNlPFJlc29sdmVkV29ya3NwYWNlUm9sZSB8IG51bGw+IHtcbiAgYXdhaXQgZGJDb25uZWN0KCk7XG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZEJ5SWQodXNlcklkKS5sZWFuKCk7XG4gIGlmICghdXNlciB8fCAhdXNlci5pc0FjdGl2ZSkgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgYWN0aXZlV29ya3NwYWNlSWQgPSByZXF1ZXN0ZWRXb3Jrc3BhY2VJZCB8fCBkZWZhdWx0V29ya3NwYWNlSWQgfHwgdXNlci53b3Jrc3BhY2VJZDtcblxuICBpZiAoYWN0aXZlV29ya3NwYWNlSWQgPT09IHVzZXIud29ya3NwYWNlSWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd29ya3NwYWNlSWQ6IGFjdGl2ZVdvcmtzcGFjZUlkLFxuICAgICAgcm9sZTogbm9ybWFsaXplUm9sZSh1c2VyLnJvbGUpLFxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICB0b2tlblZlcnNpb246IHR5cGVvZiB1c2VyLnRva2VuVmVyc2lvbiA9PT0gXCJudW1iZXJcIiA/IHVzZXIudG9rZW5WZXJzaW9uIDogMCxcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgbWVtYmVyc2hpcCA9IGF3YWl0IFdvcmtzcGFjZU1lbWJlcnNoaXBNb2RlbC5maW5kT25lKHtcbiAgICB1c2VySWQsXG4gICAgd29ya3NwYWNlSWQ6IGFjdGl2ZVdvcmtzcGFjZUlkLFxuICAgIGlzQWN0aXZlOiB0cnVlLFxuICB9KS5sZWFuKCk7XG5cbiAgaWYgKCFtZW1iZXJzaGlwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdvcmtzcGFjZUlkOiB1c2VyLndvcmtzcGFjZUlkLFxuICAgICAgcm9sZTogbm9ybWFsaXplUm9sZSh1c2VyLnJvbGUpLFxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICB0b2tlblZlcnNpb246IHR5cGVvZiB1c2VyLnRva2VuVmVyc2lvbiA9PT0gXCJudW1iZXJcIiA/IHVzZXIudG9rZW5WZXJzaW9uIDogMCxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB3b3Jrc3BhY2VJZDogYWN0aXZlV29ya3NwYWNlSWQsXG4gICAgcm9sZTogbWVtYmVyc2hpcC5yb2xlID09PSBcIm93bmVyXCIgPyBcIm93bmVyXCIgOiBcImVkaXRvclwiLFxuICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICB0b2tlblZlcnNpb246IHR5cGVvZiB1c2VyLnRva2VuVmVyc2lvbiA9PT0gXCJudW1iZXJcIiA/IHVzZXIudG9rZW5WZXJzaW9uIDogMCxcbiAgfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVNlc3Npb25Ub2tlbihwYXlsb2FkOiBTZXNzaW9uUGF5bG9hZCkge1xuICBjb25zdCBub3cgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcbiAgY29uc3QgZXhwID0gbm93ICsgNjAgKiA2MCAqIDI0ICogNztcbiAgcmV0dXJuIG5ldyBTaWduSldUKHBheWxvYWQpXG4gICAgLnNldFByb3RlY3RlZEhlYWRlcih7IGFsZzogXCJIUzI1NlwiIH0pXG4gICAgLnNldElzc3VlZEF0KG5vdylcbiAgICAuc2V0RXhwaXJhdGlvblRpbWUoZXhwKVxuICAgIC5zaWduKGdldEp3dFNlY3JldCgpKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlc3Npb25Gcm9tUmVxdWVzdChyZXE6IFJlcXVlc3QpOiBQcm9taXNlPFNlc3Npb24gfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY29va2llSGVhZGVyID0gcmVxLmhlYWRlcnMuZ2V0KFwiY29va2llXCIpO1xuICAgIGNvbnN0IHRva2VuID0gcGFyc2VDb29raWVWYWx1ZShjb29raWVIZWFkZXIsIENPT0tJRV9OQU1FKTtcbiAgICBpZiAoIXRva2VuKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCB7IHBheWxvYWQgfSA9IGF3YWl0IGp3dFZlcmlmeSh0b2tlbiwgZ2V0Snd0U2VjcmV0KCkpO1xuICAgIGNvbnN0IHNlc3Npb24gPSBwYXlsb2FkIGFzIFBhcnRpYWw8U2Vzc2lvblBheWxvYWQ+O1xuXG4gICAgY29uc3QgdXNlcklkID0gdHlwZW9mIHNlc3Npb24udXNlcklkID09PSBcInN0cmluZ1wiID8gc2Vzc2lvbi51c2VySWQgOiBcIlwiO1xuICAgIGNvbnN0IGRlZmF1bHRXb3Jrc3BhY2VJZCA9IHR5cGVvZiBzZXNzaW9uLndvcmtzcGFjZUlkID09PSBcInN0cmluZ1wiID8gc2Vzc2lvbi53b3Jrc3BhY2VJZCA6IFwiXCI7XG4gICAgY29uc3QgdG9rZW5WZXJzaW9uID0gdHlwZW9mIHNlc3Npb24udG9rZW5WZXJzaW9uID09PSBcIm51bWJlclwiID8gc2Vzc2lvbi50b2tlblZlcnNpb24gOiAwO1xuICAgIGNvbnN0IHJlcXVlc3RlZFdvcmtzcGFjZUlkID0gcGFyc2VDb29raWVWYWx1ZShjb29raWVIZWFkZXIsIEFDVElWRV9XT1JLU1BBQ0VfQ09PS0lFKTtcblxuICAgIGlmICghdXNlcklkKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IHJlc29sdmVkID0gYXdhaXQgcmVzb2x2ZVdvcmtzcGFjZVJvbGUodXNlcklkLCBkZWZhdWx0V29ya3NwYWNlSWQsIHJlcXVlc3RlZFdvcmtzcGFjZUlkKTtcbiAgICBpZiAoIXJlc29sdmVkKSByZXR1cm4gbnVsbDtcbiAgICBpZiAocmVzb2x2ZWQudG9rZW5WZXJzaW9uICE9PSB0b2tlblZlcnNpb24pIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXJJZCxcbiAgICAgIHdvcmtzcGFjZUlkOiByZXNvbHZlZC53b3Jrc3BhY2VJZCxcbiAgICAgIHJvbGU6IHJlc29sdmVkLnJvbGUsXG4gICAgICBlbWFpbDogcmVzb2x2ZWQuZW1haWwsXG4gICAgICBuYW1lOiByZXNvbHZlZC5uYW1lLFxuICAgIH07XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXF1aXJlU2Vzc2lvbihyZXE6IFJlcXVlc3QpOiBQcm9taXNlPFNlc3Npb24+IHtcbiAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlc3Npb25Gcm9tUmVxdWVzdChyZXEpO1xuICBpZiAoIXNlc3Npb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmF1dGhvcml6ZWRcIik7XG4gIH1cbiAgcmV0dXJuIHNlc3Npb247XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXF1aXJlUm9sZShyZXE6IFJlcXVlc3QsIHJvbGU6IFwiT3duZXJcIiB8IFwiRWRpdG9yXCIpIHtcbiAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHJlcXVpcmVTZXNzaW9uKHJlcSk7XG4gIGNvbnN0IGV4cGVjdGVkOiBSb2xlID0gcm9sZS50b0xvd2VyQ2FzZSgpID09PSBcIm93bmVyXCIgPyBcIm93bmVyXCIgOiBcImVkaXRvclwiO1xuICBpZiAoc2Vzc2lvbi5yb2xlICE9PSBleHBlY3RlZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkZvcmJpZGRlblwiKTtcbiAgfVxuICByZXR1cm4gc2Vzc2lvbjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEN1cnJlbnRVc2VyKCkge1xuICBjb25zdCBjb29raWVTdG9yZSA9IGNvb2tpZXMoKTtcbiAgY29uc3QgdG9rZW4gPSBjb29raWVTdG9yZS5nZXQoQ09PS0lFX05BTUUpPy52YWx1ZTtcbiAgaWYgKCF0b2tlbikgcmV0dXJuIG51bGw7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IHBheWxvYWQgfSA9IGF3YWl0IGp3dFZlcmlmeSh0b2tlbiwgZ2V0Snd0U2VjcmV0KCkpO1xuICAgIGNvbnN0IHNlc3Npb24gPSBwYXlsb2FkIGFzIFBhcnRpYWw8U2Vzc2lvblBheWxvYWQ+O1xuICAgIGNvbnN0IHVzZXJJZCA9IHR5cGVvZiBzZXNzaW9uLnVzZXJJZCA9PT0gXCJzdHJpbmdcIiA/IHNlc3Npb24udXNlcklkIDogXCJcIjtcbiAgICBjb25zdCBkZWZhdWx0V29ya3NwYWNlSWQgPSB0eXBlb2Ygc2Vzc2lvbi53b3Jrc3BhY2VJZCA9PT0gXCJzdHJpbmdcIiA/IHNlc3Npb24ud29ya3NwYWNlSWQgOiBcIlwiO1xuICAgIGNvbnN0IHRva2VuVmVyc2lvbiA9IHR5cGVvZiBzZXNzaW9uLnRva2VuVmVyc2lvbiA9PT0gXCJudW1iZXJcIiA/IHNlc3Npb24udG9rZW5WZXJzaW9uIDogMDtcbiAgICBjb25zdCByZXF1ZXN0ZWRXb3Jrc3BhY2VJZCA9IGNvb2tpZVN0b3JlLmdldChBQ1RJVkVfV09SS1NQQUNFX0NPT0tJRSk/LnZhbHVlID8/IFwiXCI7XG5cbiAgICBpZiAoIXVzZXJJZCkgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCByZXNvbHZlZCA9IGF3YWl0IHJlc29sdmVXb3Jrc3BhY2VSb2xlKHVzZXJJZCwgZGVmYXVsdFdvcmtzcGFjZUlkLCByZXF1ZXN0ZWRXb3Jrc3BhY2VJZCk7XG4gICAgaWYgKCFyZXNvbHZlZCkgcmV0dXJuIG51bGw7XG4gICAgaWYgKHJlc29sdmVkLnRva2VuVmVyc2lvbiAhPT0gdG9rZW5WZXJzaW9uKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZEJ5SWQodXNlcklkKS5sZWFuKCk7XG4gICAgaWYgKCF1c2VyIHx8ICF1c2VyLmlzQWN0aXZlKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiB7XG4gICAgICBpZDogU3RyaW5nKHVzZXIuX2lkKSxcbiAgICAgIHdvcmtzcGFjZUlkOiByZXNvbHZlZC53b3Jrc3BhY2VJZCxcbiAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgcm9sZTogcmVzb2x2ZWQucm9sZSxcbiAgICAgIGF2YXRhclVybDogdXNlci5hdmF0YXJVcmwgPz8gXCJcIixcbiAgICAgIHRpbWV6b25lOiB1c2VyLnRpbWV6b25lID8/IFwiVVRDXCIsXG4gICAgICBsYW5ndWFnZTogdXNlci5sYW5ndWFnZSA/PyBcImVuXCIsXG4gICAgICBkZWZhdWx0TGFuZGluZ1BhZ2U6IHVzZXIuZGVmYXVsdExhbmRpbmdQYWdlID8/IFwidG9kYXlcIixcbiAgICAgIGNvbXBhY3RNb2RlOiBCb29sZWFuKHVzZXIuY29tcGFjdE1vZGUpLFxuICAgICAga2V5Ym9hcmRTaG9ydGN1dHM6IHVzZXIua2V5Ym9hcmRTaG9ydGN1dHMgIT09IGZhbHNlLFxuICAgICAgc2lnbmF0dXJlOiB1c2VyLnNpZ25hdHVyZSA/PyBcIlwiLFxuICAgICAgbm90aWZpY2F0aW9uUHJlZnM6IHtcbiAgICAgICAgaW52aXRlRW1haWw6IHVzZXIubm90aWZpY2F0aW9uUHJlZnM/Lmludml0ZUVtYWlsICE9PSBmYWxzZSxcbiAgICAgICAgaW52aXRlSW5BcHA6IHVzZXIubm90aWZpY2F0aW9uUHJlZnM/Lmludml0ZUluQXBwICE9PSBmYWxzZSxcbiAgICAgICAgdGFza0R1ZUVtYWlsOiB1c2VyLm5vdGlmaWNhdGlvblByZWZzPy50YXNrRHVlRW1haWwgIT09IGZhbHNlLFxuICAgICAgICB0YXNrRHVlSW5BcHA6IHVzZXIubm90aWZpY2F0aW9uUHJlZnM/LnRhc2tEdWVJbkFwcCAhPT0gZmFsc2UsXG4gICAgICAgIG1lbnRpb25FbWFpbDogdXNlci5ub3RpZmljYXRpb25QcmVmcz8ubWVudGlvbkVtYWlsICE9PSBmYWxzZSxcbiAgICAgICAgbWVudGlvbkluQXBwOiB1c2VyLm5vdGlmaWNhdGlvblByZWZzPy5tZW50aW9uSW5BcHAgIT09IGZhbHNlLFxuICAgICAgICBpbnZvaWNlRW1haWw6IHVzZXIubm90aWZpY2F0aW9uUHJlZnM/Lmludm9pY2VFbWFpbCAhPT0gZmFsc2UsXG4gICAgICAgIGludm9pY2VJbkFwcDogdXNlci5ub3RpZmljYXRpb25QcmVmcz8uaW52b2ljZUluQXBwICE9PSBmYWxzZSxcbiAgICAgIH0sXG4gICAgICBsYXN0TG9naW5BdDogdXNlci5sYXN0TG9naW5BdCA/PyBudWxsLFxuICAgIH07XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDdXJyZW50V29ya3NwYWNlcygpOiBQcm9taXNlPFdvcmtzcGFjZVN1bW1hcnlbXT4ge1xuICBjb25zdCBjdXJyZW50VXNlciA9IGF3YWl0IGdldEN1cnJlbnRVc2VyKCk7XG4gIGlmICghY3VycmVudFVzZXIpIHJldHVybiBbXTtcblxuICBhd2FpdCBkYkNvbm5lY3QoKTtcblxuICBjb25zdCB1c2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRCeUlkKGN1cnJlbnRVc2VyLmlkKS5sZWFuKCk7XG4gIGlmICghdXNlcikgcmV0dXJuIFtdO1xuXG4gIGNvbnN0IG1lbWJlcnNoaXBzID0gYXdhaXQgV29ya3NwYWNlTWVtYmVyc2hpcE1vZGVsLmZpbmQoe1xuICAgIHVzZXJJZDogY3VycmVudFVzZXIuaWQsXG4gICAgaXNBY3RpdmU6IHRydWUsXG4gIH0pLmxlYW4oKTtcblxuICBjb25zdCB3b3Jrc3BhY2VJZHMgPSBBcnJheS5mcm9tKFxuICAgIG5ldyBTZXQoW1N0cmluZyh1c2VyLndvcmtzcGFjZUlkKSwgLi4ubWVtYmVyc2hpcHMubWFwKChtZW1iZXJzaGlwKSA9PiBTdHJpbmcobWVtYmVyc2hpcC53b3Jrc3BhY2VJZCkpXSksXG4gICk7XG5cbiAgY29uc3Qgd29ya3NwYWNlcyA9IGF3YWl0IFdvcmtzcGFjZU1vZGVsLmZpbmQoe1xuICAgIF9pZDogeyAkaW46IHdvcmtzcGFjZUlkcyB9LFxuICAgIGlzQWN0aXZlOiB0cnVlLFxuICB9KS5sZWFuKCk7XG5cbiAgY29uc3QgaGFzUGVyc29uYWxXb3Jrc3BhY2UgPSB3b3Jrc3BhY2VzLnNvbWUoXG4gICAgKHdvcmtzcGFjZSkgPT4gU3RyaW5nKHdvcmtzcGFjZS5faWQpID09PSBTdHJpbmcodXNlci53b3Jrc3BhY2VJZCksXG4gICk7XG5cbiAgaWYgKCFoYXNQZXJzb25hbFdvcmtzcGFjZSkge1xuICAgIGNvbnN0IGNyZWF0ZWQgPSBhd2FpdCBXb3Jrc3BhY2VNb2RlbC5maW5kT25lQW5kVXBkYXRlKFxuICAgICAgeyBfaWQ6IFN0cmluZyh1c2VyLndvcmtzcGFjZUlkKSB9LFxuICAgICAge1xuICAgICAgICBfaWQ6IFN0cmluZyh1c2VyLndvcmtzcGFjZUlkKSxcbiAgICAgICAgbmFtZTogYCR7dXNlci5uYW1lfSdzIFdvcmtzcGFjZWAsXG4gICAgICAgIG93bmVyVXNlcklkOiBTdHJpbmcodXNlci5faWQpLFxuICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICB7IHVwc2VydDogdHJ1ZSwgbmV3OiB0cnVlLCBzZXREZWZhdWx0c09uSW5zZXJ0OiB0cnVlIH0sXG4gICAgKS5sZWFuKCk7XG5cbiAgICBpZiAoY3JlYXRlZCkge1xuICAgICAgd29ya3NwYWNlcy5wdXNoKGNyZWF0ZWQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB3b3Jrc3BhY2VJZHMubWFwKChpZCkgPT4ge1xuICAgIGNvbnN0IHdvcmtzcGFjZSA9IHdvcmtzcGFjZXMuZmluZCgoaXRlbSkgPT4gU3RyaW5nKGl0ZW0uX2lkKSA9PT0gaWQpO1xuICAgIGNvbnN0IG1lbWJlcnNoaXAgPSBtZW1iZXJzaGlwcy5maW5kKChpdGVtKSA9PiBTdHJpbmcoaXRlbS53b3Jrc3BhY2VJZCkgPT09IGlkKTtcbiAgICBjb25zdCByb2xlID0gaWQgPT09IFN0cmluZyh1c2VyLndvcmtzcGFjZUlkKSA/IFwib3duZXJcIiA6IG1lbWJlcnNoaXA/LnJvbGUgPT09IFwib3duZXJcIiA/IFwib3duZXJcIiA6IFwiZWRpdG9yXCI7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQsXG4gICAgICBuYW1lOiB3b3Jrc3BhY2U/Lm5hbWUgPz8gKGlkID09PSBTdHJpbmcodXNlci53b3Jrc3BhY2VJZCkgPyBcIk15IFdvcmtzcGFjZVwiIDogYFdvcmtzcGFjZSAke2lkLnNsaWNlKDAsIDYpfWApLFxuICAgICAgbG9nb1VybDogd29ya3NwYWNlPy5sb2dvVXJsID8/IFwiXCIsXG4gICAgICByb2xlLFxuICAgICAgaXNQZXJzb25hbDogaWQgPT09IFN0cmluZyh1c2VyLndvcmtzcGFjZUlkKSxcbiAgICAgIGlzQWN0aXZlOiBpZCA9PT0gY3VycmVudFVzZXIud29ya3NwYWNlSWQsXG4gICAgfTtcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDdXJyZW50Um9sZSgpIHtcbiAgY29uc3QgdXNlciA9IGF3YWl0IGdldEN1cnJlbnRVc2VyKCk7XG4gIHJldHVybiB1c2VyPy5yb2xlID8/IG51bGw7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXNzaW9uQ29va2llTmFtZSgpIHtcbiAgcmV0dXJuIENPT0tJRV9OQU1FO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWN0aXZlV29ya3NwYWNlQ29va2llTmFtZSgpIHtcbiAgcmV0dXJuIEFDVElWRV9XT1JLU1BBQ0VfQ09PS0lFO1xufVxyXG4iXSwibmFtZXMiOlsiY29va2llcyIsImp3dFZlcmlmeSIsIlNpZ25KV1QiLCJVc2VyTW9kZWwiLCJXb3Jrc3BhY2VNb2RlbCIsIldvcmtzcGFjZU1lbWJlcnNoaXBNb2RlbCIsImRiQ29ubmVjdCIsIkNPT0tJRV9OQU1FIiwiQUNUSVZFX1dPUktTUEFDRV9DT09LSUUiLCJnZXRKd3RTZWNyZXQiLCJzZWNyZXQiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsIkVycm9yIiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJub3JtYWxpemVSb2xlIiwicm9sZSIsInRvTG93ZXJDYXNlIiwicGFyc2VDb29raWVWYWx1ZSIsImNvb2tpZUhlYWRlciIsIm5hbWUiLCJwYXJ0cyIsInNwbGl0IiwibWFwIiwicGFydCIsInRyaW0iLCJzdGFydHNXaXRoIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic2xpY2UiLCJsZW5ndGgiLCJyZXNvbHZlV29ya3NwYWNlUm9sZSIsInVzZXJJZCIsImRlZmF1bHRXb3Jrc3BhY2VJZCIsInJlcXVlc3RlZFdvcmtzcGFjZUlkIiwidXNlciIsImZpbmRCeUlkIiwibGVhbiIsImlzQWN0aXZlIiwiYWN0aXZlV29ya3NwYWNlSWQiLCJ3b3Jrc3BhY2VJZCIsImVtYWlsIiwidG9rZW5WZXJzaW9uIiwibWVtYmVyc2hpcCIsImZpbmRPbmUiLCJjcmVhdGVTZXNzaW9uVG9rZW4iLCJwYXlsb2FkIiwibm93IiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsImV4cCIsInNldFByb3RlY3RlZEhlYWRlciIsImFsZyIsInNldElzc3VlZEF0Iiwic2V0RXhwaXJhdGlvblRpbWUiLCJzaWduIiwiZ2V0U2Vzc2lvbkZyb21SZXF1ZXN0IiwicmVxIiwiaGVhZGVycyIsImdldCIsInRva2VuIiwic2Vzc2lvbiIsInJlc29sdmVkIiwicmVxdWlyZVNlc3Npb24iLCJyZXF1aXJlUm9sZSIsImV4cGVjdGVkIiwiZ2V0Q3VycmVudFVzZXIiLCJjb29raWVTdG9yZSIsInZhbHVlIiwiaWQiLCJTdHJpbmciLCJfaWQiLCJhdmF0YXJVcmwiLCJ0aW1lem9uZSIsImxhbmd1YWdlIiwiZGVmYXVsdExhbmRpbmdQYWdlIiwiY29tcGFjdE1vZGUiLCJCb29sZWFuIiwia2V5Ym9hcmRTaG9ydGN1dHMiLCJzaWduYXR1cmUiLCJub3RpZmljYXRpb25QcmVmcyIsImludml0ZUVtYWlsIiwiaW52aXRlSW5BcHAiLCJ0YXNrRHVlRW1haWwiLCJ0YXNrRHVlSW5BcHAiLCJtZW50aW9uRW1haWwiLCJtZW50aW9uSW5BcHAiLCJpbnZvaWNlRW1haWwiLCJpbnZvaWNlSW5BcHAiLCJsYXN0TG9naW5BdCIsImdldEN1cnJlbnRXb3Jrc3BhY2VzIiwiY3VycmVudFVzZXIiLCJtZW1iZXJzaGlwcyIsImZpbmQiLCJ3b3Jrc3BhY2VJZHMiLCJBcnJheSIsImZyb20iLCJTZXQiLCJ3b3Jrc3BhY2VzIiwiJGluIiwiaGFzUGVyc29uYWxXb3Jrc3BhY2UiLCJzb21lIiwid29ya3NwYWNlIiwiY3JlYXRlZCIsImZpbmRPbmVBbmRVcGRhdGUiLCJvd25lclVzZXJJZCIsInVwc2VydCIsIm5ldyIsInNldERlZmF1bHRzT25JbnNlcnQiLCJwdXNoIiwiaXRlbSIsImxvZ29VcmwiLCJpc1BlcnNvbmFsIiwiZ2V0Q3VycmVudFJvbGUiLCJnZXRTZXNzaW9uQ29va2llTmFtZSIsImdldEFjdGl2ZVdvcmtzcGFjZUNvb2tpZU5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db.ts":
/*!***********************!*\
  !*** ./src/lib/db.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dbConnect: () => (/* binding */ dbConnect)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"MONGODB_URI is not defined\");\n}\nconst cached = global.mongoose ?? {\n    conn: null,\n    promise: null\n};\nasync function dbConnect() {\n    const uri = MONGODB_URI;\n    if (cached.conn) return cached.conn;\n    if (!cached.promise) {\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(uri).then((m)=>m);\n    }\n    cached.conn = await cached.promise;\n    global.mongoose = cached;\n    return cached.conn;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnQztBQUVoQyxNQUFNQyxjQUFjQyxRQUFRQyxHQUFHLENBQUNGLFdBQVc7QUFFM0MsSUFBSSxDQUFDQSxhQUFhO0lBQ2hCLE1BQU0sSUFBSUcsTUFBTTtBQUNsQjtBQVlBLE1BQU1DLFNBQVNDLE9BQU9OLFFBQVEsSUFBSTtJQUFFTyxNQUFNO0lBQU1DLFNBQVM7QUFBSztBQUV2RCxlQUFlQztJQUNwQixNQUFNQyxNQUFNVDtJQUNaLElBQUlJLE9BQU9FLElBQUksRUFBRSxPQUFPRixPQUFPRSxJQUFJO0lBQ25DLElBQUksQ0FBQ0YsT0FBT0csT0FBTyxFQUFFO1FBQ25CSCxPQUFPRyxPQUFPLEdBQUdSLHVEQUFnQixDQUFDVSxLQUFLRSxJQUFJLENBQUMsQ0FBQ0MsSUFBTUE7SUFDckQ7SUFDQVIsT0FBT0UsSUFBSSxHQUFHLE1BQU1GLE9BQU9HLE9BQU87SUFDbENGLE9BQU9OLFFBQVEsR0FBR0s7SUFDbEIsT0FBT0EsT0FBT0UsSUFBSTtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL3Njb3BlYm9hcmQvLi9zcmMvbGliL2RiLnRzPzllNGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBNT05HT0RCX1VSSSA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJO1xuXG5pZiAoIU1PTkdPREJfVVJJKSB7XG4gIHRocm93IG5ldyBFcnJvcihcIk1PTkdPREJfVVJJIGlzIG5vdCBkZWZpbmVkXCIpO1xufVxuXG50eXBlIE1vbmdvb3NlQ2FjaGUgPSB7XG4gIGNvbm46IHR5cGVvZiBtb25nb29zZSB8IG51bGw7XG4gIHByb21pc2U6IFByb21pc2U8dHlwZW9mIG1vbmdvb3NlPiB8IG51bGw7XG59O1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby12YXJcbiAgdmFyIG1vbmdvb3NlOiBNb25nb29zZUNhY2hlIHwgdW5kZWZpbmVkO1xufVxuXG5jb25zdCBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2UgPz8geyBjb25uOiBudWxsLCBwcm9taXNlOiBudWxsIH07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkYkNvbm5lY3QoKSB7XG4gIGNvbnN0IHVyaSA9IE1PTkdPREJfVVJJITtcbiAgaWYgKGNhY2hlZC5jb25uKSByZXR1cm4gY2FjaGVkLmNvbm47XG4gIGlmICghY2FjaGVkLnByb21pc2UpIHtcbiAgICBjYWNoZWQucHJvbWlzZSA9IG1vbmdvb3NlLmNvbm5lY3QodXJpKS50aGVuKChtKSA9PiBtKTtcbiAgfVxuICBjYWNoZWQuY29ubiA9IGF3YWl0IGNhY2hlZC5wcm9taXNlO1xuICBnbG9iYWwubW9uZ29vc2UgPSBjYWNoZWQ7XG4gIHJldHVybiBjYWNoZWQuY29ubjtcbn1cbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIk1PTkdPREJfVVJJIiwicHJvY2VzcyIsImVudiIsIkVycm9yIiwiY2FjaGVkIiwiZ2xvYmFsIiwiY29ubiIsInByb21pc2UiLCJkYkNvbm5lY3QiLCJ1cmkiLCJjb25uZWN0IiwidGhlbiIsIm0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/models/audit.ts":
/*!*********************************!*\
  !*** ./src/lib/models/audit.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuditModel: () => (/* binding */ AuditModel)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst AuditSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    _id: {\n        type: String,\n        required: true\n    },\n    workspaceId: {\n        type: String,\n        required: true,\n        index: true,\n        default: \"default\"\n    },\n    actorId: {\n        type: String\n    },\n    actorRole: {\n        type: String\n    },\n    actorEmail: {\n        type: String\n    },\n    action: {\n        type: String,\n        required: true\n    },\n    entityType: {\n        type: String\n    },\n    entityId: {\n        type: String\n    },\n    meta: {\n        type: String\n    },\n    createdAt: {\n        type: String,\n        required: true\n    }\n}, {\n    timestamps: false\n});\nAuditSchema.index({\n    workspaceId: 1,\n    createdAt: -1\n});\nconst AuditModel = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Audit || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Audit\", AuditSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vZGVscy9hdWRpdC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEM7QUFFNUMsTUFBTUUsY0FBYyxJQUFJRCw0Q0FBTUEsQ0FDNUI7SUFDRUUsS0FBSztRQUFFQyxNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDcENDLGFBQWE7UUFBRUgsTUFBTUM7UUFBUUMsVUFBVTtRQUFNRSxPQUFPO1FBQU1DLFNBQVM7SUFBVTtJQUM3RUMsU0FBUztRQUFFTixNQUFNQztJQUFPO0lBQ3hCTSxXQUFXO1FBQUVQLE1BQU1DO0lBQU87SUFDMUJPLFlBQVk7UUFBRVIsTUFBTUM7SUFBTztJQUMzQlEsUUFBUTtRQUFFVCxNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDdkNRLFlBQVk7UUFBRVYsTUFBTUM7SUFBTztJQUMzQlUsVUFBVTtRQUFFWCxNQUFNQztJQUFPO0lBQ3pCVyxNQUFNO1FBQUVaLE1BQU1DO0lBQU87SUFDckJZLFdBQVc7UUFBRWIsTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0FBQzVDLEdBQ0E7SUFBRVksWUFBWTtBQUFNO0FBR3RCaEIsWUFBWU0sS0FBSyxDQUFDO0lBQUVELGFBQWE7SUFBR1UsV0FBVyxDQUFDO0FBQUU7QUFFM0MsTUFBTUUsYUFBYW5CLHdEQUFlLENBQUNxQixLQUFLLElBQUlyQixxREFBYyxDQUFDLFNBQVNFLGFBQWEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY29wZWJvYXJkLy4vc3JjL2xpYi9tb2RlbHMvYXVkaXQudHM/ODY0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hIH0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IEF1ZGl0U2NoZW1hID0gbmV3IFNjaGVtYShcbiAge1xuICAgIF9pZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgd29ya3NwYWNlSWQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgaW5kZXg6IHRydWUsIGRlZmF1bHQ6IFwiZGVmYXVsdFwiIH0sXG4gICAgYWN0b3JJZDogeyB0eXBlOiBTdHJpbmcgfSxcbiAgICBhY3RvclJvbGU6IHsgdHlwZTogU3RyaW5nIH0sXG4gICAgYWN0b3JFbWFpbDogeyB0eXBlOiBTdHJpbmcgfSxcbiAgICBhY3Rpb246IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGVudGl0eVR5cGU6IHsgdHlwZTogU3RyaW5nIH0sXG4gICAgZW50aXR5SWQ6IHsgdHlwZTogU3RyaW5nIH0sXG4gICAgbWV0YTogeyB0eXBlOiBTdHJpbmcgfSxcbiAgICBjcmVhdGVkQXQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICB9LFxuICB7IHRpbWVzdGFtcHM6IGZhbHNlIH0sXG4pO1xuXG5BdWRpdFNjaGVtYS5pbmRleCh7IHdvcmtzcGFjZUlkOiAxLCBjcmVhdGVkQXQ6IC0xIH0pO1xuXG5leHBvcnQgY29uc3QgQXVkaXRNb2RlbCA9IG1vbmdvb3NlLm1vZGVscy5BdWRpdCB8fCBtb25nb29zZS5tb2RlbChcIkF1ZGl0XCIsIEF1ZGl0U2NoZW1hKTtcclxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiU2NoZW1hIiwiQXVkaXRTY2hlbWEiLCJfaWQiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ3b3Jrc3BhY2VJZCIsImluZGV4IiwiZGVmYXVsdCIsImFjdG9ySWQiLCJhY3RvclJvbGUiLCJhY3RvckVtYWlsIiwiYWN0aW9uIiwiZW50aXR5VHlwZSIsImVudGl0eUlkIiwibWV0YSIsImNyZWF0ZWRBdCIsInRpbWVzdGFtcHMiLCJBdWRpdE1vZGVsIiwibW9kZWxzIiwiQXVkaXQiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/models/audit.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/models/contact.ts":
/*!***********************************!*\
  !*** ./src/lib/models/contact.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ContactModel: () => (/* binding */ ContactModel)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst ContactSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    _id: {\n        type: String,\n        required: true\n    },\n    workspaceId: {\n        type: String,\n        required: true,\n        index: true,\n        default: \"default\"\n    },\n    name: {\n        type: String,\n        required: true\n    },\n    email: {\n        type: String,\n        default: \"\"\n    },\n    phone: {\n        type: String,\n        default: \"\"\n    },\n    company: {\n        type: String,\n        default: \"\"\n    },\n    source: {\n        type: String,\n        default: \"other\"\n    },\n    sourceLabel: {\n        type: String\n    },\n    stage: {\n        type: String,\n        default: \"new\"\n    },\n    nextFollowUpAt: {\n        type: String\n    },\n    followUpCadence: {\n        type: String,\n        default: \"none\"\n    },\n    followUpIntervalDays: {\n        type: Number,\n        default: 0\n    },\n    tags: {\n        type: [\n            String\n        ],\n        default: []\n    },\n    notes: {\n        type: [\n            {\n                id: String,\n                body: String,\n                createdAt: String\n            }\n        ],\n        default: []\n    },\n    archived: {\n        type: Boolean,\n        default: false\n    }\n}, {\n    timestamps: true\n});\nContactSchema.index({\n    workspaceId: 1,\n    stage: 1,\n    archived: 1\n});\nContactSchema.index({\n    workspaceId: 1,\n    nextFollowUpAt: 1\n});\nContactSchema.index({\n    workspaceId: 1,\n    updatedAt: -1\n});\nconst ContactModel = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Contact || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Contact\", ContactSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vZGVscy9jb250YWN0LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0QztBQUU1QyxNQUFNRSxnQkFBZ0IsSUFBSUQsNENBQU1BLENBQzlCO0lBQ0VFLEtBQUs7UUFBRUMsTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQ3BDQyxhQUFhO1FBQUVILE1BQU1DO1FBQVFDLFVBQVU7UUFBTUUsT0FBTztRQUFNQyxTQUFTO0lBQVU7SUFDN0VDLE1BQU07UUFBRU4sTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQ3JDSyxPQUFPO1FBQUVQLE1BQU1DO1FBQVFJLFNBQVM7SUFBRztJQUNuQ0csT0FBTztRQUFFUixNQUFNQztRQUFRSSxTQUFTO0lBQUc7SUFDbkNJLFNBQVM7UUFBRVQsTUFBTUM7UUFBUUksU0FBUztJQUFHO0lBQ3JDSyxRQUFRO1FBQUVWLE1BQU1DO1FBQVFJLFNBQVM7SUFBUTtJQUN6Q00sYUFBYTtRQUFFWCxNQUFNQztJQUFPO0lBQzVCVyxPQUFPO1FBQUVaLE1BQU1DO1FBQVFJLFNBQVM7SUFBTTtJQUN0Q1EsZ0JBQWdCO1FBQUViLE1BQU1DO0lBQU87SUFDL0JhLGlCQUFpQjtRQUFFZCxNQUFNQztRQUFRSSxTQUFTO0lBQU87SUFDakRVLHNCQUFzQjtRQUFFZixNQUFNZ0I7UUFBUVgsU0FBUztJQUFFO0lBQ2pEWSxNQUFNO1FBQUVqQixNQUFNO1lBQUNDO1NBQU87UUFBRUksU0FBUyxFQUFFO0lBQUM7SUFDcENhLE9BQU87UUFDTGxCLE1BQU07WUFDSjtnQkFDRW1CLElBQUlsQjtnQkFDSm1CLE1BQU1uQjtnQkFDTm9CLFdBQVdwQjtZQUNiO1NBQ0Q7UUFDREksU0FBUyxFQUFFO0lBQ2I7SUFDQWlCLFVBQVU7UUFBRXRCLE1BQU11QjtRQUFTbEIsU0FBUztJQUFNO0FBQzVDLEdBQ0E7SUFBRW1CLFlBQVk7QUFBSztBQUdyQjFCLGNBQWNNLEtBQUssQ0FBQztJQUFFRCxhQUFhO0lBQUdTLE9BQU87SUFBR1UsVUFBVTtBQUFFO0FBQzVEeEIsY0FBY00sS0FBSyxDQUFDO0lBQUVELGFBQWE7SUFBR1UsZ0JBQWdCO0FBQUU7QUFDeERmLGNBQWNNLEtBQUssQ0FBQztJQUFFRCxhQUFhO0lBQUdzQixXQUFXLENBQUM7QUFBRTtBQUU3QyxNQUFNQyxlQUNYOUIsd0RBQWUsQ0FBQ2dDLE9BQU8sSUFBSWhDLHFEQUFjLENBQUMsV0FBV0UsZUFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL3Njb3BlYm9hcmQvLi9zcmMvbGliL21vZGVscy9jb250YWN0LnRzPzJhNWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7IFNjaGVtYSB9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBDb250YWN0U2NoZW1hID0gbmV3IFNjaGVtYShcbiAge1xuICAgIF9pZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgd29ya3NwYWNlSWQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgaW5kZXg6IHRydWUsIGRlZmF1bHQ6IFwiZGVmYXVsdFwiIH0sXG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgZW1haWw6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBcIlwiIH0sXG4gICAgcGhvbmU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBcIlwiIH0sXG4gICAgY29tcGFueTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IFwiXCIgfSxcbiAgICBzb3VyY2U6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBcIm90aGVyXCIgfSxcbiAgICBzb3VyY2VMYWJlbDogeyB0eXBlOiBTdHJpbmcgfSxcbiAgICBzdGFnZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IFwibmV3XCIgfSxcbiAgICBuZXh0Rm9sbG93VXBBdDogeyB0eXBlOiBTdHJpbmcgfSxcbiAgICBmb2xsb3dVcENhZGVuY2U6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBcIm5vbmVcIiB9LFxuICAgIGZvbGxvd1VwSW50ZXJ2YWxEYXlzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCB9LFxuICAgIHRhZ3M6IHsgdHlwZTogW1N0cmluZ10sIGRlZmF1bHQ6IFtdIH0sXG4gICAgbm90ZXM6IHtcbiAgICAgIHR5cGU6IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBTdHJpbmcsXG4gICAgICAgICAgYm9keTogU3RyaW5nLFxuICAgICAgICAgIGNyZWF0ZWRBdDogU3RyaW5nLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIGRlZmF1bHQ6IFtdLFxuICAgIH0sXG4gICAgYXJjaGl2ZWQ6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAgfSxcbiAgeyB0aW1lc3RhbXBzOiB0cnVlIH0sXG4pO1xuXG5Db250YWN0U2NoZW1hLmluZGV4KHsgd29ya3NwYWNlSWQ6IDEsIHN0YWdlOiAxLCBhcmNoaXZlZDogMSB9KTtcbkNvbnRhY3RTY2hlbWEuaW5kZXgoeyB3b3Jrc3BhY2VJZDogMSwgbmV4dEZvbGxvd1VwQXQ6IDEgfSk7XG5Db250YWN0U2NoZW1hLmluZGV4KHsgd29ya3NwYWNlSWQ6IDEsIHVwZGF0ZWRBdDogLTEgfSk7XG5cbmV4cG9ydCBjb25zdCBDb250YWN0TW9kZWwgPVxuICBtb25nb29zZS5tb2RlbHMuQ29udGFjdCB8fCBtb25nb29zZS5tb2RlbChcIkNvbnRhY3RcIiwgQ29udGFjdFNjaGVtYSk7XHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIlNjaGVtYSIsIkNvbnRhY3RTY2hlbWEiLCJfaWQiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ3b3Jrc3BhY2VJZCIsImluZGV4IiwiZGVmYXVsdCIsIm5hbWUiLCJlbWFpbCIsInBob25lIiwiY29tcGFueSIsInNvdXJjZSIsInNvdXJjZUxhYmVsIiwic3RhZ2UiLCJuZXh0Rm9sbG93VXBBdCIsImZvbGxvd1VwQ2FkZW5jZSIsImZvbGxvd1VwSW50ZXJ2YWxEYXlzIiwiTnVtYmVyIiwidGFncyIsIm5vdGVzIiwiaWQiLCJib2R5IiwiY3JlYXRlZEF0IiwiYXJjaGl2ZWQiLCJCb29sZWFuIiwidGltZXN0YW1wcyIsInVwZGF0ZWRBdCIsIkNvbnRhY3RNb2RlbCIsIm1vZGVscyIsIkNvbnRhY3QiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/models/contact.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/models/user.ts":
/*!********************************!*\
  !*** ./src/lib/models/user.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UserModel: () => (/* binding */ UserModel)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst UserSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    email: {\n        type: String,\n        required: true,\n        lowercase: true\n    },\n    name: {\n        type: String,\n        required: true\n    },\n    role: {\n        type: String,\n        enum: [\n            \"Owner\",\n            \"Editor\"\n        ],\n        required: true\n    },\n    passwordHash: {\n        type: String,\n        required: true\n    },\n    workspaceId: {\n        type: String,\n        required: true,\n        index: true,\n        default: \"default\"\n    },\n    tokenVersion: {\n        type: Number,\n        required: true,\n        default: 0\n    },\n    isActive: {\n        type: Boolean,\n        default: true\n    },\n    invoiceEmailTemplate: {\n        type: String,\n        default: \"\"\n    },\n    avatarUrl: {\n        type: String,\n        default: \"\"\n    },\n    timezone: {\n        type: String,\n        default: \"UTC\"\n    },\n    language: {\n        type: String,\n        default: \"en\"\n    },\n    defaultLandingPage: {\n        type: String,\n        enum: [\n            \"today\",\n            \"dashboard\"\n        ],\n        default: \"today\"\n    },\n    compactMode: {\n        type: Boolean,\n        default: false\n    },\n    keyboardShortcuts: {\n        type: Boolean,\n        default: true\n    },\n    signature: {\n        type: String,\n        default: \"\"\n    },\n    notificationPrefs: {\n        inviteEmail: {\n            type: Boolean,\n            default: true\n        },\n        inviteInApp: {\n            type: Boolean,\n            default: true\n        },\n        taskDueEmail: {\n            type: Boolean,\n            default: true\n        },\n        taskDueInApp: {\n            type: Boolean,\n            default: true\n        },\n        mentionEmail: {\n            type: Boolean,\n            default: true\n        },\n        mentionInApp: {\n            type: Boolean,\n            default: true\n        },\n        invoiceEmail: {\n            type: Boolean,\n            default: true\n        },\n        invoiceInApp: {\n            type: Boolean,\n            default: true\n        }\n    },\n    lastLoginAt: {\n        type: Date,\n        default: null\n    }\n}, {\n    timestamps: true\n});\nUserSchema.index({\n    email: 1\n}, {\n    unique: true\n});\nUserSchema.index({\n    workspaceId: 1,\n    role: 1\n});\nUserSchema.index({\n    workspaceId: 1,\n    isActive: 1\n});\nconst UserModel = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"User\", UserSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vZGVscy91c2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0QztBQUU1QyxNQUFNRSxhQUFhLElBQUlELDRDQUFNQSxDQUMzQjtJQUNFRSxPQUFPO1FBQUVDLE1BQU1DO1FBQVFDLFVBQVU7UUFBTUMsV0FBVztJQUFLO0lBQ3ZEQyxNQUFNO1FBQUVKLE1BQU1DO1FBQVFDLFVBQVU7SUFBSztJQUNyQ0csTUFBTTtRQUFFTCxNQUFNQztRQUFRSyxNQUFNO1lBQUM7WUFBUztTQUFTO1FBQUVKLFVBQVU7SUFBSztJQUNoRUssY0FBYztRQUFFUCxNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDN0NNLGFBQWE7UUFBRVIsTUFBTUM7UUFBUUMsVUFBVTtRQUFNTyxPQUFPO1FBQU1DLFNBQVM7SUFBVTtJQUM3RUMsY0FBYztRQUFFWCxNQUFNWTtRQUFRVixVQUFVO1FBQU1RLFNBQVM7SUFBRTtJQUN6REcsVUFBVTtRQUFFYixNQUFNYztRQUFTSixTQUFTO0lBQUs7SUFDekNLLHNCQUFzQjtRQUFFZixNQUFNQztRQUFRUyxTQUFTO0lBQUc7SUFDbERNLFdBQVc7UUFBRWhCLE1BQU1DO1FBQVFTLFNBQVM7SUFBRztJQUN2Q08sVUFBVTtRQUFFakIsTUFBTUM7UUFBUVMsU0FBUztJQUFNO0lBQ3pDUSxVQUFVO1FBQUVsQixNQUFNQztRQUFRUyxTQUFTO0lBQUs7SUFDeENTLG9CQUFvQjtRQUFFbkIsTUFBTUM7UUFBUUssTUFBTTtZQUFDO1lBQVM7U0FBWTtRQUFFSSxTQUFTO0lBQVE7SUFDbkZVLGFBQWE7UUFBRXBCLE1BQU1jO1FBQVNKLFNBQVM7SUFBTTtJQUM3Q1csbUJBQW1CO1FBQUVyQixNQUFNYztRQUFTSixTQUFTO0lBQUs7SUFDbERZLFdBQVc7UUFBRXRCLE1BQU1DO1FBQVFTLFNBQVM7SUFBRztJQUN2Q2EsbUJBQW1CO1FBQ2pCQyxhQUFhO1lBQUV4QixNQUFNYztZQUFTSixTQUFTO1FBQUs7UUFDNUNlLGFBQWE7WUFBRXpCLE1BQU1jO1lBQVNKLFNBQVM7UUFBSztRQUM1Q2dCLGNBQWM7WUFBRTFCLE1BQU1jO1lBQVNKLFNBQVM7UUFBSztRQUM3Q2lCLGNBQWM7WUFBRTNCLE1BQU1jO1lBQVNKLFNBQVM7UUFBSztRQUM3Q2tCLGNBQWM7WUFBRTVCLE1BQU1jO1lBQVNKLFNBQVM7UUFBSztRQUM3Q21CLGNBQWM7WUFBRTdCLE1BQU1jO1lBQVNKLFNBQVM7UUFBSztRQUM3Q29CLGNBQWM7WUFBRTlCLE1BQU1jO1lBQVNKLFNBQVM7UUFBSztRQUM3Q3FCLGNBQWM7WUFBRS9CLE1BQU1jO1lBQVNKLFNBQVM7UUFBSztJQUMvQztJQUNBc0IsYUFBYTtRQUFFaEMsTUFBTWlDO1FBQU12QixTQUFTO0lBQUs7QUFDM0MsR0FDQTtJQUFFd0IsWUFBWTtBQUFLO0FBR3JCcEMsV0FBV1csS0FBSyxDQUFDO0lBQUVWLE9BQU87QUFBRSxHQUFHO0lBQUVvQyxRQUFRO0FBQUs7QUFDOUNyQyxXQUFXVyxLQUFLLENBQUM7SUFBRUQsYUFBYTtJQUFHSCxNQUFNO0FBQUU7QUFDM0NQLFdBQVdXLEtBQUssQ0FBQztJQUFFRCxhQUFhO0lBQUdLLFVBQVU7QUFBRTtBQUV4QyxNQUFNdUIsWUFDWHhDLHdEQUFlLENBQUMwQyxJQUFJLElBQUkxQyxxREFBYyxDQUFDLFFBQVFFLFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY29wZWJvYXJkLy4vc3JjL2xpYi9tb2RlbHMvdXNlci50cz9jODJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEgfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoXG4gIHtcbiAgICBlbWFpbDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCBsb3dlcmNhc2U6IHRydWUgfSxcbiAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICByb2xlOiB7IHR5cGU6IFN0cmluZywgZW51bTogW1wiT3duZXJcIiwgXCJFZGl0b3JcIl0sIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcGFzc3dvcmRIYXNoOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB3b3Jrc3BhY2VJZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCBpbmRleDogdHJ1ZSwgZGVmYXVsdDogXCJkZWZhdWx0XCIgfSxcbiAgICB0b2tlblZlcnNpb246IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSwgZGVmYXVsdDogMCB9LFxuICAgIGlzQWN0aXZlOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IHRydWUgfSxcbiAgICBpbnZvaWNlRW1haWxUZW1wbGF0ZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IFwiXCIgfSxcbiAgICBhdmF0YXJVcmw6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBcIlwiIH0sXG4gICAgdGltZXpvbmU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBcIlVUQ1wiIH0sXG4gICAgbGFuZ3VhZ2U6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBcImVuXCIgfSxcbiAgICBkZWZhdWx0TGFuZGluZ1BhZ2U6IHsgdHlwZTogU3RyaW5nLCBlbnVtOiBbXCJ0b2RheVwiLCBcImRhc2hib2FyZFwiXSwgZGVmYXVsdDogXCJ0b2RheVwiIH0sXG4gICAgY29tcGFjdE1vZGU6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICBrZXlib2FyZFNob3J0Y3V0czogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiB0cnVlIH0sXG4gICAgc2lnbmF0dXJlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogXCJcIiB9LFxuICAgIG5vdGlmaWNhdGlvblByZWZzOiB7XG4gICAgICBpbnZpdGVFbWFpbDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiB0cnVlIH0sXG4gICAgICBpbnZpdGVJbkFwcDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiB0cnVlIH0sXG4gICAgICB0YXNrRHVlRW1haWw6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogdHJ1ZSB9LFxuICAgICAgdGFza0R1ZUluQXBwOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IHRydWUgfSxcbiAgICAgIG1lbnRpb25FbWFpbDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiB0cnVlIH0sXG4gICAgICBtZW50aW9uSW5BcHA6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogdHJ1ZSB9LFxuICAgICAgaW52b2ljZUVtYWlsOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IHRydWUgfSxcbiAgICAgIGludm9pY2VJbkFwcDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiB0cnVlIH0sXG4gICAgfSxcbiAgICBsYXN0TG9naW5BdDogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBudWxsIH0sXG4gIH0sXG4gIHsgdGltZXN0YW1wczogdHJ1ZSB9LFxuKTtcblxuVXNlclNjaGVtYS5pbmRleCh7IGVtYWlsOiAxIH0sIHsgdW5pcXVlOiB0cnVlIH0pO1xuVXNlclNjaGVtYS5pbmRleCh7IHdvcmtzcGFjZUlkOiAxLCByb2xlOiAxIH0pO1xuVXNlclNjaGVtYS5pbmRleCh7IHdvcmtzcGFjZUlkOiAxLCBpc0FjdGl2ZTogMSB9KTtcblxuZXhwb3J0IGNvbnN0IFVzZXJNb2RlbCA9XG4gIG1vbmdvb3NlLm1vZGVscy5Vc2VyIHx8IG1vbmdvb3NlLm1vZGVsKFwiVXNlclwiLCBVc2VyU2NoZW1hKTtcclxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiU2NoZW1hIiwiVXNlclNjaGVtYSIsImVtYWlsIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwibG93ZXJjYXNlIiwibmFtZSIsInJvbGUiLCJlbnVtIiwicGFzc3dvcmRIYXNoIiwid29ya3NwYWNlSWQiLCJpbmRleCIsImRlZmF1bHQiLCJ0b2tlblZlcnNpb24iLCJOdW1iZXIiLCJpc0FjdGl2ZSIsIkJvb2xlYW4iLCJpbnZvaWNlRW1haWxUZW1wbGF0ZSIsImF2YXRhclVybCIsInRpbWV6b25lIiwibGFuZ3VhZ2UiLCJkZWZhdWx0TGFuZGluZ1BhZ2UiLCJjb21wYWN0TW9kZSIsImtleWJvYXJkU2hvcnRjdXRzIiwic2lnbmF0dXJlIiwibm90aWZpY2F0aW9uUHJlZnMiLCJpbnZpdGVFbWFpbCIsImludml0ZUluQXBwIiwidGFza0R1ZUVtYWlsIiwidGFza0R1ZUluQXBwIiwibWVudGlvbkVtYWlsIiwibWVudGlvbkluQXBwIiwiaW52b2ljZUVtYWlsIiwiaW52b2ljZUluQXBwIiwibGFzdExvZ2luQXQiLCJEYXRlIiwidGltZXN0YW1wcyIsInVuaXF1ZSIsIlVzZXJNb2RlbCIsIm1vZGVscyIsIlVzZXIiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/models/user.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/models/workspace.ts":
/*!*************************************!*\
  !*** ./src/lib/models/workspace.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WorkspaceModel: () => (/* binding */ WorkspaceModel)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst WorkspaceSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    _id: {\n        type: String,\n        required: true\n    },\n    name: {\n        type: String,\n        required: true\n    },\n    logoUrl: {\n        type: String,\n        default: \"\"\n    },\n    ownerUserId: {\n        type: String,\n        required: true\n    },\n    isActive: {\n        type: Boolean,\n        default: true\n    }\n}, {\n    timestamps: true\n});\nconst WorkspaceModel = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Workspace || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Workspace\", WorkspaceSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vZGVscy93b3Jrc3BhY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRDO0FBRTVDLE1BQU1FLGtCQUFrQixJQUFJRCw0Q0FBTUEsQ0FDaEM7SUFDRUUsS0FBSztRQUFFQyxNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDcENDLE1BQU07UUFBRUgsTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQ3JDRSxTQUFTO1FBQUVKLE1BQU1DO1FBQVFJLFNBQVM7SUFBRztJQUNyQ0MsYUFBYTtRQUFFTixNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDNUNLLFVBQVU7UUFBRVAsTUFBTVE7UUFBU0gsU0FBUztJQUFLO0FBQzNDLEdBQ0E7SUFBRUksWUFBWTtBQUFLO0FBR2QsTUFBTUMsaUJBQ1hkLHdEQUFlLENBQUNnQixTQUFTLElBQUloQixxREFBYyxDQUFDLGFBQWFFLGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL3Njb3BlYm9hcmQvLi9zcmMvbGliL21vZGVscy93b3Jrc3BhY2UudHM/OWY5NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hIH0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFdvcmtzcGFjZVNjaGVtYSA9IG5ldyBTY2hlbWEoXG4gIHtcbiAgICBfaWQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGxvZ29Vcmw6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBcIlwiIH0sXG4gICAgb3duZXJVc2VySWQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGlzQWN0aXZlOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IHRydWUgfSxcbiAgfSxcbiAgeyB0aW1lc3RhbXBzOiB0cnVlIH0sXG4pO1xuXG5leHBvcnQgY29uc3QgV29ya3NwYWNlTW9kZWwgPVxuICBtb25nb29zZS5tb2RlbHMuV29ya3NwYWNlIHx8IG1vbmdvb3NlLm1vZGVsKFwiV29ya3NwYWNlXCIsIFdvcmtzcGFjZVNjaGVtYSk7XHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIlNjaGVtYSIsIldvcmtzcGFjZVNjaGVtYSIsIl9pZCIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsIm5hbWUiLCJsb2dvVXJsIiwiZGVmYXVsdCIsIm93bmVyVXNlcklkIiwiaXNBY3RpdmUiLCJCb29sZWFuIiwidGltZXN0YW1wcyIsIldvcmtzcGFjZU1vZGVsIiwibW9kZWxzIiwiV29ya3NwYWNlIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/models/workspace.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/models/workspaceMembership.ts":
/*!***********************************************!*\
  !*** ./src/lib/models/workspaceMembership.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WorkspaceMembershipModel: () => (/* binding */ WorkspaceMembershipModel)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst WorkspaceMembershipSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    userId: {\n        type: String,\n        required: true,\n        index: true\n    },\n    workspaceId: {\n        type: String,\n        required: true,\n        index: true\n    },\n    role: {\n        type: String,\n        enum: [\n            \"owner\",\n            \"editor\"\n        ],\n        required: true\n    },\n    isActive: {\n        type: Boolean,\n        default: true\n    },\n    invitedById: {\n        type: String,\n        default: \"\"\n    }\n}, {\n    timestamps: true\n});\nWorkspaceMembershipSchema.index({\n    workspaceId: 1,\n    userId: 1\n}, {\n    unique: true\n});\nWorkspaceMembershipSchema.index({\n    userId: 1,\n    isActive: 1\n});\nconst WorkspaceMembershipModel = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).WorkspaceMembership || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"WorkspaceMembership\", WorkspaceMembershipSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vZGVscy93b3Jrc3BhY2VNZW1iZXJzaGlwLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0QztBQUU1QyxNQUFNRSw0QkFBNEIsSUFBSUQsNENBQU1BLENBQzFDO0lBQ0VFLFFBQVE7UUFBRUMsTUFBTUM7UUFBUUMsVUFBVTtRQUFNQyxPQUFPO0lBQUs7SUFDcERDLGFBQWE7UUFBRUosTUFBTUM7UUFBUUMsVUFBVTtRQUFNQyxPQUFPO0lBQUs7SUFDekRFLE1BQU07UUFBRUwsTUFBTUM7UUFBUUssTUFBTTtZQUFDO1lBQVM7U0FBUztRQUFFSixVQUFVO0lBQUs7SUFDaEVLLFVBQVU7UUFBRVAsTUFBTVE7UUFBU0MsU0FBUztJQUFLO0lBQ3pDQyxhQUFhO1FBQUVWLE1BQU1DO1FBQVFRLFNBQVM7SUFBRztBQUMzQyxHQUNBO0lBQUVFLFlBQVk7QUFBSztBQUdyQmIsMEJBQTBCSyxLQUFLLENBQUM7SUFBRUMsYUFBYTtJQUFHTCxRQUFRO0FBQUUsR0FBRztJQUFFYSxRQUFRO0FBQUs7QUFDOUVkLDBCQUEwQkssS0FBSyxDQUFDO0lBQUVKLFFBQVE7SUFBR1EsVUFBVTtBQUFFO0FBRWxELE1BQU1NLDJCQUNYakIsd0RBQWUsQ0FBQ21CLG1CQUFtQixJQUNuQ25CLHFEQUFjLENBQUMsdUJBQXVCRSwyQkFBMkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY29wZWJvYXJkLy4vc3JjL2xpYi9tb2RlbHMvd29ya3NwYWNlTWVtYmVyc2hpcC50cz9lNzY3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEgfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgV29ya3NwYWNlTWVtYmVyc2hpcFNjaGVtYSA9IG5ldyBTY2hlbWEoXG4gIHtcbiAgICB1c2VySWQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgaW5kZXg6IHRydWUgfSxcbiAgICB3b3Jrc3BhY2VJZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCBpbmRleDogdHJ1ZSB9LFxuICAgIHJvbGU6IHsgdHlwZTogU3RyaW5nLCBlbnVtOiBbXCJvd25lclwiLCBcImVkaXRvclwiXSwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBpc0FjdGl2ZTogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiB0cnVlIH0sXG4gICAgaW52aXRlZEJ5SWQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBcIlwiIH0sXG4gIH0sXG4gIHsgdGltZXN0YW1wczogdHJ1ZSB9LFxuKTtcblxuV29ya3NwYWNlTWVtYmVyc2hpcFNjaGVtYS5pbmRleCh7IHdvcmtzcGFjZUlkOiAxLCB1c2VySWQ6IDEgfSwgeyB1bmlxdWU6IHRydWUgfSk7XG5Xb3Jrc3BhY2VNZW1iZXJzaGlwU2NoZW1hLmluZGV4KHsgdXNlcklkOiAxLCBpc0FjdGl2ZTogMSB9KTtcblxuZXhwb3J0IGNvbnN0IFdvcmtzcGFjZU1lbWJlcnNoaXBNb2RlbCA9XG4gIG1vbmdvb3NlLm1vZGVscy5Xb3Jrc3BhY2VNZW1iZXJzaGlwIHx8XG4gIG1vbmdvb3NlLm1vZGVsKFwiV29ya3NwYWNlTWVtYmVyc2hpcFwiLCBXb3Jrc3BhY2VNZW1iZXJzaGlwU2NoZW1hKTtcclxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiU2NoZW1hIiwiV29ya3NwYWNlTWVtYmVyc2hpcFNjaGVtYSIsInVzZXJJZCIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImluZGV4Iiwid29ya3NwYWNlSWQiLCJyb2xlIiwiZW51bSIsImlzQWN0aXZlIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJpbnZpdGVkQnlJZCIsInRpbWVzdGFtcHMiLCJ1bmlxdWUiLCJXb3Jrc3BhY2VNZW1iZXJzaGlwTW9kZWwiLCJtb2RlbHMiLCJXb3Jrc3BhY2VNZW1iZXJzaGlwIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/models/workspaceMembership.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/validation.ts":
/*!*******************************!*\
  !*** ./src/lib/validation.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   activityCreateSchema: () => (/* binding */ activityCreateSchema),\n/* harmony export */   activityUpdateSchema: () => (/* binding */ activityUpdateSchema),\n/* harmony export */   adminSettingsSchema: () => (/* binding */ adminSettingsSchema),\n/* harmony export */   adminUserCreateSchema: () => (/* binding */ adminUserCreateSchema),\n/* harmony export */   adminUserUpdateSchema: () => (/* binding */ adminUserUpdateSchema),\n/* harmony export */   auditCreateSchema: () => (/* binding */ auditCreateSchema),\n/* harmony export */   contactCreateSchema: () => (/* binding */ contactCreateSchema),\n/* harmony export */   contactUpdateSchema: () => (/* binding */ contactUpdateSchema),\n/* harmony export */   invoiceCreateSchema: () => (/* binding */ invoiceCreateSchema),\n/* harmony export */   invoiceUpdateSchema: () => (/* binding */ invoiceUpdateSchema),\n/* harmony export */   milestoneCreateSchema: () => (/* binding */ milestoneCreateSchema),\n/* harmony export */   milestoneUpdateSchema: () => (/* binding */ milestoneUpdateSchema),\n/* harmony export */   projectCreateSchema: () => (/* binding */ projectCreateSchema),\n/* harmony export */   projectUpdateSchema: () => (/* binding */ projectUpdateSchema),\n/* harmony export */   projectUpdateWithRemovalsSchema: () => (/* binding */ projectUpdateWithRemovalsSchema),\n/* harmony export */   teamInviteCreateSchema: () => (/* binding */ teamInviteCreateSchema),\n/* harmony export */   teamInviteUpdateSchema: () => (/* binding */ teamInviteUpdateSchema),\n/* harmony export */   userPasswordUpdateSchema: () => (/* binding */ userPasswordUpdateSchema),\n/* harmony export */   userProfileUpdateSchema: () => (/* binding */ userProfileUpdateSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v4/classic/external.js\");\n\nconst contactCreateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1),\n    email: zod__WEBPACK_IMPORTED_MODULE_0__.string().email().optional().or(zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"\")),\n    phone: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional().or(zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"\")),\n    company: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional().or(zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"\")),\n    source: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    sourceLabel: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    stage: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    nextFollowUpAt: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    followUpCadence: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"none\",\n        \"weekly\",\n        \"monthly\",\n        \"custom\"\n    ]).optional(),\n    followUpIntervalDays: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional(),\n    tags: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).optional(),\n    notes: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        id: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n        body: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n        createdAt: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n    })).optional(),\n    archived: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional()\n});\nconst contactUpdateSchema = contactCreateSchema.partial();\nconst projectCreateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    title: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1),\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    contactId: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1).optional(),\n    clientName: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    status: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    pipelineStage: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    notes: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    attachments: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        id: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n        name: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1),\n        url: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1),\n        type: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional().default(\"\"),\n        size: zod__WEBPACK_IMPORTED_MODULE_0__.number().nonnegative()\n    })).optional(),\n    startDate: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    dueDate: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    budgetAmount: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional(),\n    currency: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    links: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string().url()).optional(),\n    archived: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional()\n});\nconst projectUpdateSchema = projectCreateSchema.partial();\nconst projectUpdateWithRemovalsSchema = projectUpdateSchema.extend({\n    removeAttachmentUrls: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1)).optional()\n});\nconst invoiceCreateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    invoiceNo: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1),\n    projectId: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1),\n    contactId: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1),\n    status: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    issueDate: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    dueDate: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    paidDate: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    amount: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional(),\n    currency: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    lineItems: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        title: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n        qty: zod__WEBPACK_IMPORTED_MODULE_0__.number(),\n        rate: zod__WEBPACK_IMPORTED_MODULE_0__.number()\n    })).optional(),\n    payments: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        amount: zod__WEBPACK_IMPORTED_MODULE_0__.number(),\n        method: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n        paidAt: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n        note: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n    })).optional(),\n    archived: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional()\n});\nconst invoiceUpdateSchema = invoiceCreateSchema.partial();\nconst activityCreateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    entityType: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"contact\",\n        \"project\",\n        \"invoice\",\n        \"milestone\"\n    ]),\n    entityId: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1),\n    action: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1),\n    message: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    userRole: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n});\nconst activityUpdateSchema = activityCreateSchema.partial();\nconst milestoneCreateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    projectId: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1),\n    title: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1),\n    status: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    dueDate: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    amount: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional(),\n    currency: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    order: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional()\n});\nconst milestoneUpdateSchema = milestoneCreateSchema.partial();\nconst auditCreateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    action: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1),\n    entityType: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    entityId: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    meta: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n});\nconst adminUserCreateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1),\n    email: zod__WEBPACK_IMPORTED_MODULE_0__.string().email(),\n    role: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"Owner\",\n        \"Editor\"\n    ]),\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(8)\n});\nconst adminUserUpdateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1).optional(),\n    role: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"Owner\",\n        \"Editor\"\n    ]).optional(),\n    isActive: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(8).optional()\n});\nconst adminSettingsSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    orgName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1),\n    timezone: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1),\n    logoUrl: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n});\nconst userProfileUpdateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1).optional(),\n    avatarUrl: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1).optional().or(zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"\")),\n    timezone: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1).optional(),\n    language: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1).optional(),\n    defaultLandingPage: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"today\",\n        \"dashboard\"\n    ]).optional(),\n    compactMode: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    keyboardShortcuts: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    signature: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    notificationPrefs: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        inviteEmail: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n        inviteInApp: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n        taskDueEmail: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n        taskDueInApp: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n        mentionEmail: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n        mentionInApp: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n        invoiceEmail: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n        invoiceInApp: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional()\n    }).partial().optional()\n});\nconst userPasswordUpdateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    currentPassword: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"Current password is required.\"),\n    newPassword: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(8, \"New password must be at least 8 characters.\"),\n    confirmPassword: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(8, \"Confirm password must be at least 8 characters.\")\n}).refine((value)=>value.newPassword === value.confirmPassword, {\n    message: \"New password and confirm password do not match.\",\n    path: [\n        \"confirmPassword\"\n    ]\n});\nconst teamInviteCreateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: zod__WEBPACK_IMPORTED_MODULE_0__.string().email(),\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional().or(zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"\")),\n    role: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"Owner\",\n        \"Editor\"\n    ])\n});\nconst teamInviteUpdateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    status: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"revoked\"\n    ]).optional()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxhQUFheEcsdUNBQVEsR0FBR0ssR0FBRyxDQUFDLEdBQUc7SUFDL0JvRyxpQkFBaUJ6Ryx1Q0FBUSxHQUFHSyxHQUFHLENBQUMsR0FBRztBQUNyQyxHQUNDcUcsTUFBTSxDQUFDLENBQUNDLFFBQVVBLE1BQU1ILFdBQVcsS0FBS0csTUFBTUYsZUFBZSxFQUFFO0lBQzlEcEMsU0FBUztJQUNUdUMsTUFBTTtRQUFDO0tBQWtCO0FBQzNCLEdBQUc7QUFFRSxNQUFNQyx5QkFBeUI3Ryx1Q0FBUSxDQUFDO0lBQzdDTSxPQUFPTix1Q0FBUSxHQUFHTSxLQUFLO0lBQ3ZCSCxNQUFNSCx1Q0FBUSxHQUFHTyxRQUFRLEdBQUdDLEVBQUUsQ0FBQ1Isd0NBQVMsQ0FBQztJQUN6QzhFLE1BQU05RSx3Q0FBTSxDQUFDO1FBQUM7UUFBUztLQUFTO0FBQ2xDLEdBQUc7QUFFSSxNQUFNOEcseUJBQXlCOUcsdUNBQVEsQ0FBQztJQUM3Q2tDLFFBQVFsQyx3Q0FBTSxDQUFDO1FBQUM7S0FBVSxFQUFFTyxRQUFRO0FBQ3RDLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY29wZWJvYXJkLy4vc3JjL2xpYi92YWxpZGF0aW9uLnRzPzQ2MGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcblxuZXhwb3J0IGNvbnN0IGNvbnRhY3RDcmVhdGVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG5hbWU6IHouc3RyaW5nKCkubWluKDEpLFxuICBlbWFpbDogei5zdHJpbmcoKS5lbWFpbCgpLm9wdGlvbmFsKCkub3Ioei5saXRlcmFsKFwiXCIpKSxcbiAgcGhvbmU6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5vcih6LmxpdGVyYWwoXCJcIikpLFxuICBjb21wYW55OiB6LnN0cmluZygpLm9wdGlvbmFsKCkub3Ioei5saXRlcmFsKFwiXCIpKSxcbiAgc291cmNlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHNvdXJjZUxhYmVsOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHN0YWdlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIG5leHRGb2xsb3dVcEF0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGZvbGxvd1VwQ2FkZW5jZTogei5lbnVtKFtcIm5vbmVcIiwgXCJ3ZWVrbHlcIiwgXCJtb250aGx5XCIsIFwiY3VzdG9tXCJdKS5vcHRpb25hbCgpLFxuICBmb2xsb3dVcEludGVydmFsRGF5czogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICB0YWdzOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gIG5vdGVzOiB6XG4gICAgLmFycmF5KFxuICAgICAgei5vYmplY3Qoe1xuICAgICAgICBpZDogei5zdHJpbmcoKSxcbiAgICAgICAgYm9keTogei5zdHJpbmcoKSxcbiAgICAgICAgY3JlYXRlZEF0OiB6LnN0cmluZygpLFxuICAgICAgfSksXG4gICAgKVxuICAgIC5vcHRpb25hbCgpLFxuICBhcmNoaXZlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbn0pO1xuXG5leHBvcnQgY29uc3QgY29udGFjdFVwZGF0ZVNjaGVtYSA9IGNvbnRhY3RDcmVhdGVTY2hlbWEucGFydGlhbCgpO1xuXG5leHBvcnQgY29uc3QgcHJvamVjdENyZWF0ZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdGl0bGU6IHouc3RyaW5nKCkubWluKDEpLFxuICBuYW1lOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGNvbnRhY3RJZDogei5zdHJpbmcoKS5taW4oMSkub3B0aW9uYWwoKSxcbiAgY2xpZW50TmFtZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBzdGF0dXM6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgcGlwZWxpbmVTdGFnZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBub3Rlczogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBhdHRhY2htZW50czogelxuICAgIC5hcnJheShcbiAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgbmFtZTogei5zdHJpbmcoKS5taW4oMSksXG4gICAgICAgIHVybDogei5zdHJpbmcoKS5taW4oMSksXG4gICAgICAgIHR5cGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5kZWZhdWx0KFwiXCIpLFxuICAgICAgICBzaXplOiB6Lm51bWJlcigpLm5vbm5lZ2F0aXZlKCksXG4gICAgICB9KSxcbiAgICApXG4gICAgLm9wdGlvbmFsKCksXG4gIHN0YXJ0RGF0ZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBkdWVEYXRlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGJ1ZGdldEFtb3VudDogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICBjdXJyZW5jeTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBsaW5rczogei5hcnJheSh6LnN0cmluZygpLnVybCgpKS5vcHRpb25hbCgpLFxuICBhcmNoaXZlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbn0pO1xuXG5leHBvcnQgY29uc3QgcHJvamVjdFVwZGF0ZVNjaGVtYSA9IHByb2plY3RDcmVhdGVTY2hlbWEucGFydGlhbCgpO1xuZXhwb3J0IGNvbnN0IHByb2plY3RVcGRhdGVXaXRoUmVtb3ZhbHNTY2hlbWEgPSBwcm9qZWN0VXBkYXRlU2NoZW1hLmV4dGVuZCh7XG4gIHJlbW92ZUF0dGFjaG1lbnRVcmxzOiB6LmFycmF5KHouc3RyaW5nKCkubWluKDEpKS5vcHRpb25hbCgpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBpbnZvaWNlQ3JlYXRlU2NoZW1hID0gei5vYmplY3Qoe1xuICBpbnZvaWNlTm86IHouc3RyaW5nKCkubWluKDEpLFxuICBwcm9qZWN0SWQ6IHouc3RyaW5nKCkubWluKDEpLFxuICBjb250YWN0SWQ6IHouc3RyaW5nKCkubWluKDEpLFxuICBzdGF0dXM6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgaXNzdWVEYXRlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGR1ZURhdGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgcGFpZERhdGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgYW1vdW50OiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIGN1cnJlbmN5OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGxpbmVJdGVtczogelxuICAgIC5hcnJheShcbiAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgdGl0bGU6IHouc3RyaW5nKCksXG4gICAgICAgIHF0eTogei5udW1iZXIoKSxcbiAgICAgICAgcmF0ZTogei5udW1iZXIoKSxcbiAgICAgIH0pLFxuICAgIClcbiAgICAub3B0aW9uYWwoKSxcbiAgcGF5bWVudHM6IHpcbiAgICAuYXJyYXkoXG4gICAgICB6Lm9iamVjdCh7XG4gICAgICAgIGFtb3VudDogei5udW1iZXIoKSxcbiAgICAgICAgbWV0aG9kOiB6LnN0cmluZygpLFxuICAgICAgICBwYWlkQXQ6IHouc3RyaW5nKCksXG4gICAgICAgIG5vdGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgIH0pLFxuICAgIClcbiAgICAub3B0aW9uYWwoKSxcbiAgYXJjaGl2ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG59KTtcblxuZXhwb3J0IGNvbnN0IGludm9pY2VVcGRhdGVTY2hlbWEgPSBpbnZvaWNlQ3JlYXRlU2NoZW1hLnBhcnRpYWwoKTtcblxuZXhwb3J0IGNvbnN0IGFjdGl2aXR5Q3JlYXRlU2NoZW1hID0gei5vYmplY3Qoe1xuICBlbnRpdHlUeXBlOiB6LmVudW0oW1wiY29udGFjdFwiLCBcInByb2plY3RcIiwgXCJpbnZvaWNlXCIsIFwibWlsZXN0b25lXCJdKSxcbiAgZW50aXR5SWQ6IHouc3RyaW5nKCkubWluKDEpLFxuICBhY3Rpb246IHouc3RyaW5nKCkubWluKDEpLFxuICBtZXNzYWdlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHVzZXJSb2xlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcblxuZXhwb3J0IGNvbnN0IGFjdGl2aXR5VXBkYXRlU2NoZW1hID0gYWN0aXZpdHlDcmVhdGVTY2hlbWEucGFydGlhbCgpO1xuXG5leHBvcnQgY29uc3QgbWlsZXN0b25lQ3JlYXRlU2NoZW1hID0gei5vYmplY3Qoe1xuICBwcm9qZWN0SWQ6IHouc3RyaW5nKCkubWluKDEpLFxuICB0aXRsZTogei5zdHJpbmcoKS5taW4oMSksXG4gIHN0YXR1czogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBkdWVEYXRlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGFtb3VudDogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICBjdXJyZW5jeTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBvcmRlcjogei5udW1iZXIoKS5vcHRpb25hbCgpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBtaWxlc3RvbmVVcGRhdGVTY2hlbWEgPSBtaWxlc3RvbmVDcmVhdGVTY2hlbWEucGFydGlhbCgpO1xuXG5leHBvcnQgY29uc3QgYXVkaXRDcmVhdGVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGFjdGlvbjogei5zdHJpbmcoKS5taW4oMSksXG4gIGVudGl0eVR5cGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgZW50aXR5SWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgbWV0YTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBhZG1pblVzZXJDcmVhdGVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG5hbWU6IHouc3RyaW5nKCkubWluKDEpLFxuICBlbWFpbDogei5zdHJpbmcoKS5lbWFpbCgpLFxuICByb2xlOiB6LmVudW0oW1wiT3duZXJcIiwgXCJFZGl0b3JcIl0pLFxuICBwYXNzd29yZDogei5zdHJpbmcoKS5taW4oOCksXG59KTtcblxuZXhwb3J0IGNvbnN0IGFkbWluVXNlclVwZGF0ZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgbmFtZTogei5zdHJpbmcoKS5taW4oMSkub3B0aW9uYWwoKSxcbiAgcm9sZTogei5lbnVtKFtcIk93bmVyXCIsIFwiRWRpdG9yXCJdKS5vcHRpb25hbCgpLFxuICBpc0FjdGl2ZTogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgcGFzc3dvcmQ6IHouc3RyaW5nKCkubWluKDgpLm9wdGlvbmFsKCksXG59KTtcblxuZXhwb3J0IGNvbnN0IGFkbWluU2V0dGluZ3NTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG9yZ05hbWU6IHouc3RyaW5nKCkubWluKDEpLFxuICB0aW1lem9uZTogei5zdHJpbmcoKS5taW4oMSksXG4gIGxvZ29Vcmw6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuXG5leHBvcnQgY29uc3QgdXNlclByb2ZpbGVVcGRhdGVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG5hbWU6IHouc3RyaW5nKCkubWluKDEpLm9wdGlvbmFsKCksXG4gIGF2YXRhclVybDogei5zdHJpbmcoKS5taW4oMSkub3B0aW9uYWwoKS5vcih6LmxpdGVyYWwoXCJcIikpLFxuICB0aW1lem9uZTogei5zdHJpbmcoKS5taW4oMSkub3B0aW9uYWwoKSxcbiAgbGFuZ3VhZ2U6IHouc3RyaW5nKCkubWluKDEpLm9wdGlvbmFsKCksXG4gIGRlZmF1bHRMYW5kaW5nUGFnZTogei5lbnVtKFtcInRvZGF5XCIsIFwiZGFzaGJvYXJkXCJdKS5vcHRpb25hbCgpLFxuICBjb21wYWN0TW9kZTogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAga2V5Ym9hcmRTaG9ydGN1dHM6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gIHNpZ25hdHVyZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBub3RpZmljYXRpb25QcmVmczogelxuICAgIC5vYmplY3Qoe1xuICAgICAgaW52aXRlRW1haWw6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgICBpbnZpdGVJbkFwcDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAgIHRhc2tEdWVFbWFpbDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAgIHRhc2tEdWVJbkFwcDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAgIG1lbnRpb25FbWFpbDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAgIG1lbnRpb25JbkFwcDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAgIGludm9pY2VFbWFpbDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAgIGludm9pY2VJbkFwcDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICB9KVxuICAgIC5wYXJ0aWFsKClcbiAgICAub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHVzZXJQYXNzd29yZFVwZGF0ZVNjaGVtYSA9IHpcbiAgLm9iamVjdCh7XG4gICAgY3VycmVudFBhc3N3b3JkOiB6LnN0cmluZygpLm1pbigxLCBcIkN1cnJlbnQgcGFzc3dvcmQgaXMgcmVxdWlyZWQuXCIpLFxuICAgIG5ld1Bhc3N3b3JkOiB6LnN0cmluZygpLm1pbig4LCBcIk5ldyBwYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDggY2hhcmFjdGVycy5cIiksXG4gICAgY29uZmlybVBhc3N3b3JkOiB6LnN0cmluZygpLm1pbig4LCBcIkNvbmZpcm0gcGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA4IGNoYXJhY3RlcnMuXCIpLFxuICB9KVxuICAucmVmaW5lKCh2YWx1ZSkgPT4gdmFsdWUubmV3UGFzc3dvcmQgPT09IHZhbHVlLmNvbmZpcm1QYXNzd29yZCwge1xuICAgIG1lc3NhZ2U6IFwiTmV3IHBhc3N3b3JkIGFuZCBjb25maXJtIHBhc3N3b3JkIGRvIG5vdCBtYXRjaC5cIixcbiAgICBwYXRoOiBbXCJjb25maXJtUGFzc3dvcmRcIl0sXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgdGVhbUludml0ZUNyZWF0ZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgZW1haWw6IHouc3RyaW5nKCkuZW1haWwoKSxcbiAgbmFtZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLm9yKHoubGl0ZXJhbChcIlwiKSksXG4gIHJvbGU6IHouZW51bShbXCJPd25lclwiLCBcIkVkaXRvclwiXSksXG59KTtcblxuZXhwb3J0IGNvbnN0IHRlYW1JbnZpdGVVcGRhdGVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHN0YXR1czogei5lbnVtKFtcInJldm9rZWRcIl0pLm9wdGlvbmFsKCksXG59KTtcclxuIl0sIm5hbWVzIjpbInoiLCJjb250YWN0Q3JlYXRlU2NoZW1hIiwib2JqZWN0IiwibmFtZSIsInN0cmluZyIsIm1pbiIsImVtYWlsIiwib3B0aW9uYWwiLCJvciIsImxpdGVyYWwiLCJwaG9uZSIsImNvbXBhbnkiLCJzb3VyY2UiLCJzb3VyY2VMYWJlbCIsInN0YWdlIiwibmV4dEZvbGxvd1VwQXQiLCJmb2xsb3dVcENhZGVuY2UiLCJlbnVtIiwiZm9sbG93VXBJbnRlcnZhbERheXMiLCJudW1iZXIiLCJ0YWdzIiwiYXJyYXkiLCJub3RlcyIsImlkIiwiYm9keSIsImNyZWF0ZWRBdCIsImFyY2hpdmVkIiwiYm9vbGVhbiIsImNvbnRhY3RVcGRhdGVTY2hlbWEiLCJwYXJ0aWFsIiwicHJvamVjdENyZWF0ZVNjaGVtYSIsInRpdGxlIiwiY29udGFjdElkIiwiY2xpZW50TmFtZSIsInN0YXR1cyIsInBpcGVsaW5lU3RhZ2UiLCJhdHRhY2htZW50cyIsInVybCIsInR5cGUiLCJkZWZhdWx0Iiwic2l6ZSIsIm5vbm5lZ2F0aXZlIiwic3RhcnREYXRlIiwiZHVlRGF0ZSIsImJ1ZGdldEFtb3VudCIsImN1cnJlbmN5IiwibGlua3MiLCJwcm9qZWN0VXBkYXRlU2NoZW1hIiwicHJvamVjdFVwZGF0ZVdpdGhSZW1vdmFsc1NjaGVtYSIsImV4dGVuZCIsInJlbW92ZUF0dGFjaG1lbnRVcmxzIiwiaW52b2ljZUNyZWF0ZVNjaGVtYSIsImludm9pY2VObyIsInByb2plY3RJZCIsImlzc3VlRGF0ZSIsInBhaWREYXRlIiwiYW1vdW50IiwibGluZUl0ZW1zIiwicXR5IiwicmF0ZSIsInBheW1lbnRzIiwibWV0aG9kIiwicGFpZEF0Iiwibm90ZSIsImludm9pY2VVcGRhdGVTY2hlbWEiLCJhY3Rpdml0eUNyZWF0ZVNjaGVtYSIsImVudGl0eVR5cGUiLCJlbnRpdHlJZCIsImFjdGlvbiIsIm1lc3NhZ2UiLCJ1c2VyUm9sZSIsImFjdGl2aXR5VXBkYXRlU2NoZW1hIiwibWlsZXN0b25lQ3JlYXRlU2NoZW1hIiwib3JkZXIiLCJtaWxlc3RvbmVVcGRhdGVTY2hlbWEiLCJhdWRpdENyZWF0ZVNjaGVtYSIsIm1ldGEiLCJhZG1pblVzZXJDcmVhdGVTY2hlbWEiLCJyb2xlIiwicGFzc3dvcmQiLCJhZG1pblVzZXJVcGRhdGVTY2hlbWEiLCJpc0FjdGl2ZSIsImFkbWluU2V0dGluZ3NTY2hlbWEiLCJvcmdOYW1lIiwidGltZXpvbmUiLCJsb2dvVXJsIiwidXNlclByb2ZpbGVVcGRhdGVTY2hlbWEiLCJhdmF0YXJVcmwiLCJsYW5ndWFnZSIsImRlZmF1bHRMYW5kaW5nUGFnZSIsImNvbXBhY3RNb2RlIiwia2V5Ym9hcmRTaG9ydGN1dHMiLCJzaWduYXR1cmUiLCJub3RpZmljYXRpb25QcmVmcyIsImludml0ZUVtYWlsIiwiaW52aXRlSW5BcHAiLCJ0YXNrRHVlRW1haWwiLCJ0YXNrRHVlSW5BcHAiLCJtZW50aW9uRW1haWwiLCJtZW50aW9uSW5BcHAiLCJpbnZvaWNlRW1haWwiLCJpbnZvaWNlSW5BcHAiLCJ1c2VyUGFzc3dvcmRVcGRhdGVTY2hlbWEiLCJjdXJyZW50UGFzc3dvcmQiLCJuZXdQYXNzd29yZCIsImNvbmZpcm1QYXNzd29yZCIsInJlZmluZSIsInZhbHVlIiwicGF0aCIsInRlYW1JbnZpdGVDcmVhdGVTY2hlbWEiLCJ0ZWFtSW52aXRlVXBkYXRlU2NoZW1hIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/validation.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/jose","vendor-chunks/zod"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcontacts%2Froute&page=%2Fapi%2Fcontacts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcontacts%2Froute.ts&appDir=F%3A%5CCoding%5CFlowlane%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=F%3A%5CCoding%5CFlowlane&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();