(()=>{var e={};e.id=9958,e.ids=[9958],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},96720:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o}),s(38201),s(47552),s(1121),s(90996),s(39707);var r=s(30170),n=s(45002),a=s(83876),i=s.n(a),l=s(66299),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let o=["",{children:["(app)",{children:["projects",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,38201)),"F:\\Coding\\Flowlane\\src\\app\\(app)\\projects\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(s.bind(s,47552)),"F:\\Coding\\Flowlane\\src\\app\\(app)\\projects\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1121)),"F:\\Coding\\Flowlane\\src\\app\\(app)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,39707)),"F:\\Coding\\Flowlane\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["F:\\Coding\\Flowlane\\src\\app\\(app)\\projects\\page.tsx"],u="/(app)/projects/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(app)/projects/page",pathname:"/projects",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},68298:(e,t,s)=>{Promise.resolve().then(s.bind(s,93192))},35303:()=>{},93192:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>C});var r=s(97247),n=s(79906),a=s(28964),i=s(58760),l=s(65678),d=s(35224),o=s(46444),c=s(14434),u=s(77081),p=s(92706),x=s(75468),m=s(62714),h=s(31480),g=s(55757),j=s(28852),f=s(40677),v=s(17818);let b=[{value:"all",label:"All statuses"},{value:"planning",label:"Planning"},{value:"active",label:"Active"},{value:"on_hold",label:"On Hold"},{value:"completed",label:"Completed"}],w=[{id:"planning",label:"Planning"},{id:"active",label:"Active"},{id:"on_hold",label:"On Hold"},{id:"completed",label:"Completed"}];function N({projects:e,budgetTierById:t,isOwner:s}){let[g,f]=(0,a.useState)("all"),[N,C]=(0,a.useState)("active"),[O,k]=(0,a.useState)("board"),_=(0,u.q)(),{setProjects:A}=(0,x.O)(),F=(0,p.Fs)(_,"projects:edit"),q=(0,a.useMemo)(()=>("all"===g?e:e.filter(e=>e.status===g)).filter(e=>"archived"===N?e.archived:!e.archived),[e,g,N]),D=(0,a.useMemo)(()=>w.reduce((e,t)=>(e[t.id]=q.filter(e=>e.status===t.id),e),{}),[q]);async function $(e){let{active:t,over:s}=e;if(!s)return;if(!F){v.A.error("Only the owner can do this.");return}let r=s.id,n=t.id;try{await m.h.updateProject(n,{status:r}),A(e=>e.map(e=>e.id===n?{...e,status:r}:e)),v.A.success("Project status updated.")}catch{v.A.error("Unable to update project.")}}return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"glass flex flex-wrap items-center gap-3 rounded-xl px-4 py-3",children:[(0,r.jsxs)(i.Ph,{value:g,onValueChange:e=>f(e),children:[r.jsx(i.i4,{className:"w-[200px]",children:r.jsx(i.ki,{placeholder:"Filter status"})}),r.jsx(i.Bw,{children:b.map(e=>r.jsx(i.Ql,{value:e.value,children:e.label},e.value))})]}),r.jsx(c.m,{permission:"projects:delete",children:(0,r.jsxs)(i.Ph,{value:N,onValueChange:e=>C(e),children:[r.jsx(i.i4,{className:"w-[160px]",children:r.jsx(i.ki,{placeholder:"Visibility"})}),(0,r.jsxs)(i.Bw,{children:[r.jsx(i.Ql,{value:"active",children:"Active"}),r.jsx(i.Ql,{value:"archived",children:"Archived"})]})]})}),(0,r.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[r.jsx(j.z,{variant:"board"===O?"default":"outline",size:"sm",onClick:()=>k("board"),children:"Board"}),r.jsx(j.z,{variant:"list"===O?"default":"outline",size:"sm",onClick:()=>k("list"),children:"List"})]})]}),0===q.length?r.jsx(o.u,{title:"No projects yet",description:"Start a project to track milestones and budgets."}):"list"===O?r.jsx("div",{className:"grid gap-4",children:q.map(e=>(0,r.jsxs)(n.default,{href:`/projects/${e.id}`,className:"rounded-xl border bg-background p-5 shadow-sm transition hover:bg-muted/40",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-semibold",children:e.title}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Due ",(0,d.p6)(e.dueDate)]})]}),r.jsx(l.$x,{status:e.status})]}),(0,r.jsxs)("div",{className:"mt-4 text-xs text-muted-foreground",children:["Budget"," ",s?(0,d.lb)(e.budgetAmount??0,e.currency??"USD"):t?.[e.id]??"Hidden"]})]},e.id))}):r.jsx(h.LB,{onDragEnd:$,children:r.jsx("div",{className:"grid gap-4 xl:grid-cols-4",children:w.map(e=>r.jsx(y,{stage:e.id,label:e.label,count:D[e.id]?.length??0,children:D[e.id]?.length?D[e.id].map(e=>r.jsx(P,{project:e,canMove:F,isOwner:s,budgetTier:t?.[e.id]},e.id)):r.jsx("div",{className:"rounded-lg border border-dashed p-4 text-xs text-muted-foreground",children:"No projects"})},e.id))})})]})}function y({stage:e,label:t,count:s,children:n}){let{setNodeRef:a,isOver:i}=(0,h.Zj)({id:e});return(0,r.jsxs)("div",{ref:a,className:(0,f.cn)("flex h-full flex-col rounded-xl border bg-card p-3",i&&"ring-2 ring-primary/30"),children:[(0,r.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-semibold",children:t}),r.jsx("span",{className:"text-xs text-muted-foreground",children:s})]}),r.jsx("div",{className:"flex flex-col gap-3",children:n})]})}function P({project:e,canMove:t,isOwner:s,budgetTier:a}){let{attributes:i,listeners:o,setNodeRef:c,transform:u,isDragging:p}=(0,h.O1)({id:e.id});return r.jsx(g.Zb,{ref:c,style:{transform:u?`translate3d(${u.x}px, ${u.y}px, 0)`:void 0},className:(0,f.cn)("rounded-lg border bg-background p-4 shadow-sm transition",t?"cursor-grab":"cursor-not-allowed opacity-90",p&&"opacity-60"),...t?o:{},...t?i:{},children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-semibold",children:e.title}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Due ",(0,d.p6)(e.dueDate)]})]}),r.jsx(l.$x,{status:e.status})]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Budget"," ",s?(0,d.lb)(e.budgetAmount??0,e.currency??"USD"):a??"Hidden"]}),r.jsx(j.z,{asChild:!0,variant:"ghost",size:"sm",className:"w-fit px-0 text-xs",children:r.jsx(n.default,{href:`/projects/${e.id}`,children:"Open"})})]})})}function C(){let{projects:e}=(0,x.O)(),t="owner"===(0,u.q)();return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold",children:"Projects"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Track delivery timelines and milestone progress."})]}),r.jsx(N,{projects:e,budgetTierById:void 0,isOwner:t})]})}},46444:(e,t,s)=>{"use strict";s.d(t,{u:()=>i});var r=s(97247),n=s(28852),a=s(79175);function i({title:e,description:t,actionLabel:s="Quick Add"}){return(0,r.jsxs)("div",{className:"rounded-lg border border-dashed bg-background p-8 text-center",children:[r.jsx("p",{className:"text-sm font-semibold",children:e}),r.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:t}),r.jsx("div",{className:"mt-4 flex items-center justify-center",children:r.jsx(a.A,{children:r.jsx(n.z,{children:s})})})]})}},14434:(e,t,s)=>{"use strict";s.d(t,{$:()=>c,m:()=>o});var r=s(97247),n=s(28964),a=s(17818),i=s(70887),l=s(92706),d=s(77081);function o({permission:e,children:t}){let s=(0,d.q)();return(0,l.Fs)(s,e)?r.jsx(r.Fragment,{children:t}):null}function c({permission:e,children:t,tooltip:s="Owner only"}){let o=(0,d.q)();if((0,l.Fs)(o,e))return t;let c={...t.props,disabled:!0,onClick:e=>{e.preventDefault(),a.A.error("Only the owner can do this.")}};return r.jsx(i.pn,{children:(0,r.jsxs)(i.u,{children:[r.jsx(i.aJ,{asChild:!0,children:Object.assign(n.cloneElement(t,c))}),r.jsx(i._v,{children:s})]})})}},65678:(e,t,s)=>{"use strict";s.d(t,{$x:()=>l,Pm:()=>i,Q$:()=>o,lo:()=>d});var r=s(97247),n=s(87597),a=s(18171);function i({stage:e}){return r.jsx(n.C,{variant:a.e0[e],children:a.c8[e]})}function l({status:e}){return r.jsx(n.C,{variant:a.lh[e],children:a.BO[e]})}function d({status:e}){return r.jsx(n.C,{variant:a.$M[e],children:a.ps[e]})}function o({status:e}){return r.jsx(n.C,{variant:a.v8[e],children:a.Ap[e]})}},55757:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>l,Zb:()=>i,aY:()=>o,ll:()=>d});var r=s(97247),n=s(28964),a=s(40677);let i=n.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let l=n.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let d=n.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:(0,a.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle",n.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let o=n.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,a.cn)("p-6 pt-0",e),...t}));o.displayName="CardContent",n.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},18171:(e,t,s)=>{"use strict";s.d(t,{$M:()=>c,AO:()=>p,Ap:()=>i,BO:()=>n,Dm:()=>l,c8:()=>r,e0:()=>d,lh:()=>o,ps:()=>a,v8:()=>u});let r={new:"New",contacted:"Contacted",meeting:"Meeting",proposal:"Proposal",negotiation:"Negotiation",won:"Won",lost:"Lost"},n={planning:"Planning",active:"Active",on_hold:"On Hold",completed:"Completed"},a={pending:"Pending",in_progress:"In Progress",blocked:"Blocked",done:"Done",waiting_client:"Waiting on Client"},i={unpaid:"Unpaid",overdue:"Overdue",paid:"Paid"},l={upwork:"Upwork",linkedin:"LinkedIn",referral:"Referral",website:"Website",local:"Local",partner:"Partner",event:"Event",other:"Other"},d={new:"info",contacted:"secondary",meeting:"warning",proposal:"warning",negotiation:"warning",won:"success",lost:"danger"},o={planning:"secondary",active:"success",on_hold:"warning",completed:"muted"},c={pending:"secondary",in_progress:"warning",blocked:"danger",done:"success",waiting_client:"warning"},u={unpaid:"secondary",overdue:"warning",paid:"success"},p={upwork:"info",linkedin:"secondary",referral:"success",website:"info",local:"muted",partner:"success",event:"muted",other:"muted"}},47552:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(72051),n=s(4615);function a(){return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx(n.O,{className:"h-6 w-36"}),r.jsx(n.O,{className:"mt-2 h-4 w-64"})]}),r.jsx(n.O,{className:"h-10 w-48"}),r.jsx(n.O,{className:"h-64 w-full"})]})}},38201:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(45347).createProxy)(String.raw`F:\Coding\Flowlane\src\app\(app)\projects\page.tsx#default`)},4615:(e,t,s)=>{"use strict";s.d(t,{O:()=>a});var r=s(72051),n=s(39812);function a({className:e}){return r.jsx("div",{className:(0,n.cn)("animate-pulse rounded-md bg-muted",e)})}},39812:(e,t,s)=>{"use strict";s.d(t,{cn:()=>a});var r=s(36272),n=s(51472);function a(...e){return(0,n.m6)((0,r.W)(e))}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[9379,6936,2960,401,4564,4080,3997,9324,5665,1181,1480,7372,5411],()=>s(96720));module.exports=r})();