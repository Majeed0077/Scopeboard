(()=>{var e={};e.id=4759,e.ids=[4759],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},31745:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>r.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),s(57883),s(60644),s(1121),s(90996),s(39707);var a=s(30170),n=s(45002),l=s(83876),r=s.n(l),i=s(66299),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c=["",{children:["(app)",{children:["contacts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,57883)),"F:\\Coding\\Flowlane\\src\\app\\(app)\\contacts\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(s.bind(s,60644)),"F:\\Coding\\Flowlane\\src\\app\\(app)\\contacts\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1121)),"F:\\Coding\\Flowlane\\src\\app\\(app)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,39707)),"F:\\Coding\\Flowlane\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["F:\\Coding\\Flowlane\\src\\app\\(app)\\contacts\\page.tsx"],u="/(app)/contacts/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(app)/contacts/page",pathname:"/contacts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3610:(e,t,s)=>{Promise.resolve().then(s.bind(s,50021))},35303:()=>{},46444:(e,t,s)=>{"use strict";s.d(t,{u:()=>r});var a=s(97247),n=s(28852),l=s(79175);function r({title:e,description:t,actionLabel:s="Quick Add"}){return(0,a.jsxs)("div",{className:"rounded-lg border border-dashed bg-background p-8 text-center",children:[a.jsx("p",{className:"text-sm font-semibold",children:e}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:t}),a.jsx("div",{className:"mt-4 flex items-center justify-center",children:a.jsx(l.A,{children:a.jsx(n.z,{children:s})})})]})}},14434:(e,t,s)=>{"use strict";s.d(t,{$:()=>d,m:()=>c});var a=s(97247),n=s(28964),l=s(17818),r=s(70887),i=s(92706),o=s(77081);function c({permission:e,children:t}){let s=(0,o.q)();return(0,i.Fs)(s,e)?a.jsx(a.Fragment,{children:t}):null}function d({permission:e,children:t,tooltip:s="Owner only"}){let c=(0,o.q)();if((0,i.Fs)(c,e))return t;let d={...t.props,disabled:!0,onClick:e=>{e.preventDefault(),l.A.error("Only the owner can do this.")}};return a.jsx(r.pn,{children:(0,a.jsxs)(r.u,{children:[a.jsx(r.aJ,{asChild:!0,children:Object.assign(n.cloneElement(t,d))}),a.jsx(r._v,{children:s})]})})}},29868:(e,t,s)=>{"use strict";s.d(t,{W:()=>r});var a=s(97247),n=s(87597),l=s(18171);function r({source:e}){return a.jsx(n.C,{variant:l.AO[e],children:l.Dm[e]})}},65678:(e,t,s)=>{"use strict";s.d(t,{$x:()=>i,Pm:()=>r,Q$:()=>c,lo:()=>o});var a=s(97247),n=s(87597),l=s(18171);function r({stage:e}){return a.jsx(n.C,{variant:l.e0[e],children:l.c8[e]})}function i({status:e}){return a.jsx(n.C,{variant:l.lh[e],children:l.BO[e]})}function o({status:e}){return a.jsx(n.C,{variant:l.$M[e],children:l.ps[e]})}function c({status:e}){return a.jsx(n.C,{variant:l.v8[e],children:l.Ap[e]})}},50021:(e,t,s)=>{"use strict";s.d(t,{ContactsClient:()=>N});var a=s(97247),n=s(79906),l=s(28964),r=s(85426),i=s(58760),o=s(69065),c=s(29868),d=s(65678),u=s(35224),p=s(46444),x=s(14434),h=s(28852),m=s(62714),v=s(75468),j=s(77081),g=s(17818);let f=[{value:"all",label:"All sources"},{value:"upwork",label:"Upwork"},{value:"referral",label:"Referral"},{value:"website",label:"Website"},{value:"linkedin",label:"LinkedIn"},{value:"local",label:"Local"},{value:"event",label:"Event"},{value:"partner",label:"Partner"},{value:"other",label:"Other"}],w=[{value:"all",label:"All stages"},{value:"new",label:"New"},{value:"contacted",label:"Contacted"},{value:"meeting",label:"Meeting"},{value:"proposal",label:"Proposal"},{value:"negotiation",label:"Negotiation"},{value:"won",label:"Won"},{value:"lost",label:"Lost"}];function b({contacts:e,initialFilter:t}){let[s,b]=(0,l.useState)("active"),[N,C]=(0,l.useState)(""),[y,P]=(0,l.useState)("all"),[A,k]=(0,l.useState)("all"),{setContacts:F}=(0,v.O)(),_="owner"===(0,j.q)(),O=new Date,q=(0,l.useMemo)(()=>e.filter(e=>{let a=e.name.toLowerCase().includes(N.toLowerCase())||e.company.toLowerCase().includes(N.toLowerCase()),n="all"===y||e.source===y,l="all"===A||e.stage===A,r="followupsToday"===t?(0,u.HM)(e.nextFollowUpAt,O):"followupsOverdue"!==t||(0,u.cF)(e.nextFollowUpAt,O),i="archived"===s?e.archived:!e.archived;return a&&n&&l&&r&&i}),[e,N,y,A,t,O,s]);return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"glass flex flex-wrap items-center gap-3 rounded-xl px-4 py-3",children:[a.jsx(r.I,{placeholder:"Search contacts...",className:"w-full max-w-xs",value:N,onChange:e=>C(e.target.value)}),(0,a.jsxs)(i.Ph,{value:y,onValueChange:e=>P(e),children:[a.jsx(i.i4,{className:"w-[180px]",children:a.jsx(i.ki,{placeholder:"Filter source"})}),a.jsx(i.Bw,{children:f.map(e=>a.jsx(i.Ql,{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)(i.Ph,{value:A,onValueChange:e=>k(e),children:[a.jsx(i.i4,{className:"w-[180px]",children:a.jsx(i.ki,{placeholder:"Filter stage"})}),a.jsx(i.Bw,{children:w.map(e=>a.jsx(i.Ql,{value:e.value,children:e.label},e.value))})]}),a.jsx(x.m,{permission:"contacts:delete",children:(0,a.jsxs)(i.Ph,{value:s,onValueChange:e=>b(e),children:[a.jsx(i.i4,{className:"w-[160px]",children:a.jsx(i.ki,{placeholder:"Visibility"})}),(0,a.jsxs)(i.Bw,{children:[a.jsx(i.Ql,{value:"active",children:"Active"}),a.jsx(i.Ql,{value:"archived",children:"Archived"})]})]})}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[q.length," results"]})]}),0===q.length?a.jsx(p.u,{title:"No contacts yet",description:"Add a lead or import contacts to start tracking follow-ups."}):a.jsx("div",{className:"rounded-xl border bg-card",children:(0,a.jsxs)(o.iA,{children:[a.jsx(o.xD,{children:(0,a.jsxs)(o.SC,{children:[a.jsx(o.ss,{children:"Contact"}),a.jsx(o.ss,{children:"Company"}),a.jsx(o.ss,{children:"Source"}),a.jsx(o.ss,{children:"Stage"}),a.jsx(o.ss,{children:"Next Follow-up"}),a.jsx(o.ss,{className:"text-right",children:"Actions"})]})}),a.jsx(o.RM,{children:q.map(e=>(0,a.jsxs)(o.SC,{className:"cursor-pointer hover:bg-muted/40",children:[a.jsx(o.pj,{children:a.jsx(n.default,{href:`/contacts/${e.id}`,className:"font-medium",children:e.name})}),a.jsx(o.pj,{children:e.company}),a.jsx(o.pj,{children:a.jsx(c.W,{source:e.source})}),a.jsx(o.pj,{children:a.jsx(d.Pm,{stage:e.stage})}),a.jsx(o.pj,{children:(0,u.p6)(e.nextFollowUpAt)}),a.jsx(o.pj,{className:"text-right",children:a.jsx("div",{className:"flex justify-end gap-2",children:_?a.jsx(h.z,{size:"sm",variant:"ghost",className:"text-rose-500 hover:text-rose-500",onClick:t=>{t.preventDefault(),t.stopPropagation(),m.h.deleteContact(e.id).then(()=>{F(t=>t.filter(t=>t.id!==e.id)),g.A.success("Contact deleted.")}).catch(()=>g.A.error("Unable to delete contact."))},children:"Delete"}):null})})]},e.id))})]})})]})}function N({initialFilter:e}){let{contacts:t}=(0,v.O)();return a.jsx(b,{contacts:t,initialFilter:e})}},69065:(e,t,s)=>{"use strict";s.d(t,{RM:()=>o,SC:()=>c,iA:()=>r,pj:()=>u,ss:()=>d,xD:()=>i});var a=s(97247),n=s(28964),l=s(40677);let r=n.forwardRef(({className:e,...t},s)=>a.jsx("div",{className:"w-full overflow-auto",children:a.jsx("table",{ref:s,className:(0,l.cn)("w-full caption-bottom text-sm",e),...t})}));r.displayName="Table";let i=n.forwardRef(({className:e,...t},s)=>a.jsx("thead",{ref:s,className:(0,l.cn)("[&_tr]:border-b",e),...t}));i.displayName="TableHeader";let o=n.forwardRef(({className:e,...t},s)=>a.jsx("tbody",{ref:s,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...t}));o.displayName="TableBody";let c=n.forwardRef(({className:e,...t},s)=>a.jsx("tr",{ref:s,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));c.displayName="TableRow";let d=n.forwardRef(({className:e,...t},s)=>a.jsx("th",{ref:s,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground",e),...t}));d.displayName="TableHead";let u=n.forwardRef(({className:e,...t},s)=>a.jsx("td",{ref:s,className:(0,l.cn)("p-4 align-middle",e),...t}));u.displayName="TableCell",n.forwardRef(({className:e,...t},s)=>a.jsx("caption",{ref:s,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},18171:(e,t,s)=>{"use strict";s.d(t,{$M:()=>d,AO:()=>p,Ap:()=>r,BO:()=>n,Dm:()=>i,c8:()=>a,e0:()=>o,lh:()=>c,ps:()=>l,v8:()=>u});let a={new:"New",contacted:"Contacted",meeting:"Meeting",proposal:"Proposal",negotiation:"Negotiation",won:"Won",lost:"Lost"},n={planning:"Planning",active:"Active",on_hold:"On Hold",completed:"Completed"},l={pending:"Pending",in_progress:"In Progress",blocked:"Blocked",done:"Done",waiting_client:"Waiting on Client"},r={unpaid:"Unpaid",overdue:"Overdue",paid:"Paid"},i={upwork:"Upwork",linkedin:"LinkedIn",referral:"Referral",website:"Website",local:"Local",partner:"Partner",event:"Event",other:"Other"},o={new:"info",contacted:"secondary",meeting:"warning",proposal:"warning",negotiation:"warning",won:"success",lost:"danger"},c={planning:"secondary",active:"success",on_hold:"warning",completed:"muted"},d={pending:"secondary",in_progress:"warning",blocked:"danger",done:"success",waiting_client:"warning"},u={unpaid:"secondary",overdue:"warning",paid:"success"},p={upwork:"info",linkedin:"secondary",referral:"success",website:"info",local:"muted",partner:"success",event:"muted",other:"muted"}},60644:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(72051),n=s(4615);function l(){return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx(n.O,{className:"h-6 w-36"}),a.jsx(n.O,{className:"mt-2 h-4 w-64"})]}),a.jsx(n.O,{className:"h-10 w-80"}),a.jsx(n.O,{className:"h-64 w-full"})]})}},57883:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(72051);let n=(0,s(45347).createProxy)(String.raw`F:\Coding\Flowlane\src\components\contacts\ContactsClient.tsx#ContactsClient`);async function l({searchParams:e}){let t=e?.filter;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Contacts"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Keep the relationship history and next steps in one place."})]}),a.jsx(n,{initialFilter:t})]})}},4615:(e,t,s)=>{"use strict";s.d(t,{O:()=>l});var a=s(72051),n=s(39812);function l({className:e}){return a.jsx("div",{className:(0,n.cn)("animate-pulse rounded-md bg-muted",e)})}},39812:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var a=s(36272),n=s(51472);function l(...e){return(0,n.m6)((0,a.W)(e))}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[9379,6936,2960,401,4564,4080,3997,9324,5665,1181,7372,5411],()=>s(31745));module.exports=a})();